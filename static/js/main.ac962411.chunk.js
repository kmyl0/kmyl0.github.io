(this["webpackJsonpfront-sistema-cotizacion"]=this["webpackJsonpfront-sistema-cotizacion"]||[]).push([[0],{134:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){},176:function(e,t,c){},177:function(e,t,c){},271:function(e,t,c){},272:function(e,t,c){},273:function(e,t,c){},274:function(e,t,c){},275:function(e,t,c){},276:function(e,t,c){},277:function(e,t,c){},278:function(e,t,c){},279:function(e,t,c){},280:function(e,t,c){},281:function(e,t,c){},282:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(38),s=c.n(r),o=(c(142),c(143),c(9)),i=c(2),l=c.n(i),d=c(5),j=c(3),u=c(6),b=c(7),m=c(307),h=c(283),p=c(284),O=c(285),x=c(286),f=c(287),v=c(61),g=c.n(v),N=g.a.create({baseURL:"https://127.0.0.1"});function w(e){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/login",t);case 3:return c=e.sent,e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function S(){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,console.log(t),e.next=6,N.post("/details",{},c);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var C=c(0),z=function(e){var t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=t.formState.errors,s=t.reset,o=Object(a.useState)(""),i=Object(j.a)(o,2),v=(i[0],i[1]),g=Object(a.useState)(""),N=Object(j.a)(g,2),y=(N[0],N[1]),k=Object(a.useState)(""),z=Object(j.a)(k,2),E=z[0],A=z[1],U=function(){var t=Object(d.a)(l.a.mark((function t(c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(c),t.next=4,w(c);case 4:a=t.sent,window.localStorage.setItem("tokenContizacion",a.data.success.token),A(""),q(),e.cerrarModal(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),A("Por favor revise su nombre de usuario y contrase\xf1a"),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,console.log(t);try{window.localStorage.setItem("userDetails",JSON.stringify(t.data)),window.location.reload()}catch(c){console.log(c)}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{isOpen:e.abierto,style:{top:"20%",transfrom:"translate(-50%, -50%)",width:"400px"},children:[Object(C.jsx)(h.a,{children:"INICIAR SESI\xd3N"}),Object(C.jsxs)("form",{onSubmit:n(U),children:[Object(C.jsxs)(p.a,{children:[Object(C.jsx)("div",{style:{color:"red"},children:E}),Object(C.jsx)(O.a,{for:"username",children:"Usuario"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"userName"},c("userName",{required:{value:!0,message:"Campo requerido"},maxLength:{value:15,message:"Este campo debe tener m\xe1ximo 15 caracteres"}})),{},{className:"form-control"})),r.userName&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.userName.message}),Object(C.jsx)(O.a,{for:"password",children:"Contrase\xf1a"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"password",type:"password"},c("password",{required:{value:!0,message:"Campo requerido"},maxLength:{value:20,message:"Este campo debe tener m\xe1ximo 20 caracteres"}})),{},{className:"form-control",id:"password"})),r.password&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.password.message})]}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{onClick:function(){e.cerrarModal(),A(""),v(""),y(" "),s()},children:"Cancelar"}),Object(C.jsx)(f.a,{type:"submit",color:"primary",children:"Ingresar"})]})]})]})})},E=c(288),A=c(289),U=c(290),q=c(291),I=c(292),R=(c(172),c(20));c(173);var D=function(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=(c[0],c[1]),r=Object(a.useState)([]),s=Object(j.a)(r,2),o=s[0],i=s[1],u=Object(a.useState)(""),b=Object(j.a)(u,2),O=(b[0],b[1],Object(a.useState)(!1)),f=Object(j.a)(O,2),v=(f[0],f[1],Object(R.g)(),function(){e.cerrarModalRoles()});return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=JSON.parse(window.localStorage.getItem("userDetails")),n(t.user),i(t.user.roles)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{isOpen:e.abrirRoles,style:{top:"5%",transfrom:"translate(-50%, -50%)"},children:[Object(C.jsx)(h.a,{toggle:v,children:"Seleccione el rol con el que desea acceder"}),Object(C.jsx)(p.a,{children:Object(C.jsx)("div",{align:"center",class:"tabla grid-container--fill",children:o.map((function(t){return Object(C.jsxs)("div",{id:"card",children:[Object(C.jsx)("image",{class:"card-img-top",children:Object(C.jsx)(E.a,{height:60,width:60,id:"card-image"})}),Object(C.jsxs)("div",{class:"card-body",children:[Object(C.jsx)("h6",{class:"card-title",children:t.nameRol}),Object(C.jsxs)("label",{class:"card-text",children:[t.nameUnidadGasto," "]}),Object(C.jsx)("label",{class:"card-text",children:t.nameUnidadAdministrativa}),Object(C.jsx)("button",{type:"button",class:"btn btn-info",onClick:function(){console.log("entra con el rol",t.nameRol,t.nameUnidadAdministrativa,t.nameUnidadGasto),e.updateRol(t),v()},children:"Acceder"})]})]})}))})}),Object(C.jsx)(x.a,{children:Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:v,children:"Cerrar"})})]})})};var F=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(null),s=Object(j.a)(r,2),i=(s[0],s[1]),u=Object(a.useState)(!1),b=Object(j.a)(u,2),m=b[0],h=b[1],p=Object(a.useState)({nameRol:"",permissions:[]}),O=Object(j.a)(p,2),x=(O[0],O[1]),f=Object(a.useState)(!1),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)(""),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)(!0),F=Object(j.a)(z,2),M=F[0],_=(F[1],Object(a.useState)(!0)),L=Object(j.a)(_,2),B=L[0],G=(L[1],Object(a.useState)(!1)),P=Object(j.a)(G,2),T=(P[0],P[1]),V=Object(a.useState)(!1),$=Object(j.a)(V,2),J=$[0],Z=$[1],Y=Object(a.useState)(!1),Q=Object(j.a)(Y,2),W=Q[0],H=Q[1],K=Object(a.useState)(!1),X=Object(j.a)(K,2),ee=(X[0],X[1]),te=Object(a.useState)(!1),ce=Object(j.a)(te,2),ae=(ce[0],ce[1],Object(a.useState)(!1)),ne=Object(j.a)(ae,2),re=(ne[0],ne[1],Object(a.useState)(!1)),se=Object(j.a)(re,2),oe=se[0],ie=se[1],le=Object(a.useState)(!1),de=Object(j.a)(le,2),je=de[0],ue=de[1],be=Object(a.useState)(!1),me=Object(j.a)(be,2),he=me[0],pe=me[1],Oe=Object(a.useState)(!1),xe=Object(j.a)(Oe,2),fe=xe[0],ve=xe[1],ge=Object(a.useState)(!1),Ne=Object(j.a)(ge,2),we=Ne[0],ye=Ne[1],Se=Object(a.useState)(!1),ke=Object(j.a)(Se,2),Ce=ke[0],ze=(ke[1],Object(a.useState)(!1)),Ee=Object(j.a)(ze,2),Ae=Ee[0],Ue=(Ee[1],Object(a.useState)(!1)),qe=Object(j.a)(Ue,2),Ie=qe[0],Re=qe[1],De=Object(a.useState)(!1),Fe=Object(j.a)(De,2),Me=Fe[0],_e=Fe[1],Le=Object(a.useState)(null),Be=Object(j.a)(Le,2),Ge=Be[0],Pe=Be[1],Te=Object(a.useState)(null),Ve=Object(j.a)(Te,2),$e=Ve[0],Je=Ve[1],Ze=Object(a.useState)(null),Ye=Object(j.a)(Ze,2),Qe=(Ye[0],Ye[1]),We=Object(a.useState)(null),He=Object(j.a)(We,2),Ke=He[0],Xe=He[1],et=Object(a.useState)(!1),tt=Object(j.a)(et,2),ct=tt[0],at=tt[1],nt=Object(a.useState)(0),rt=Object(j.a)(nt,2),st=rt[0],ot=rt[1],it=Object(a.useState)(null),lt=Object(j.a)(it,2),dt=lt[0],jt=lt[1],ut=Object(R.g)(),bt=function(){window.localStorage.removeItem("tokenContizacion"),window.localStorage.removeItem("userDetails"),window.location="/"},mt=function(){h(!1)},ht=function(e){pt(),Pe(e.pivot.administrative_unit_id),Je(e.pivot.spending_unit_id),jt(e),Ot(e.permissions),k(e.nameRol),Xe(e.nameUnidadGasto),Qe(e.nameUnidadAdministrativa),N(!g),ut.replace("/")},pt=function(){H(!1),Z(!1),ee(!1),Re(!1),ve(!1),pe(!1),ie(!1),ye(!1),_e(!1)},Ot=function(e){e.forEach((function(e){"Ver las solicitudes de adquisici\xf3n"===e.namePermission&&H(!0),"Solicitu de aquicici\xf3n"===e.namePermission&&Z(!0),"Enviar el correo de contizaci\xf3n"===e.namePermission&&ee(!0),"Todo sobre monte l\xedmite"===e.namePermission&&Re(!0),"Registrar unidades administrativas"===e.namePermission&&ve(!0),"Registrar unidades de gasto"===e.namePermission&&pe(!0),"Registrar usuarios"===e.namePermission&&ie(!0),"Registro de empresas"===e.namePermission&&ye(!0),"Administar roles"===e.namePermission&&ue(!0),"Ver Personal"==e.namePermission&&_e(!0)}))};return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=JSON.parse(window.localStorage.getItem("userDetails")),i(t.user),console.log(t),n(t.user.name),T(!0),1===t.user.roles.length?(x(t.user.roles[0]),Ot(t.user.roles[0].permissions),k(t.user.roles[0].nameRol),ot(1),Pe(t.user.roles[0].pivot.administrative_unit_id),Je(t.user.roles[0].pivot.spending_unit_id),Xe(t.user.roles[0].nameUnidadGasto),Qe(t.user.roles[0].nameUnidadAdministrativa),console.log("UNIDAD ADMIN",t.user.roles[0].pivot.administrative_unit_id),console.log("UNIDAD GASTO",t.user.roles[0].pivot.spending_unit_id)):(h(!0),at(!0))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsx)(C.Fragment,{children:null!=dt|1==st?Object(C.jsxs)("div",{children:[Object(C.jsxs)("nav",{className:"navbar navbar-light justify-content-between",id:"cabecera",children:[Object(C.jsx)("h1",{children:" Sistema de Cotizaciones "}),Object(C.jsx)("div",{children:Object(C.jsx)("li",{className:"nav-container--item dropdown",id:"person",children:Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)("button",{type:"button",className:"btn btn-default dropdown-toggle",id:"userButton",children:[Object(C.jsx)(E.a,{id:"userImg"}),Object(C.jsxs)("label",{children:[c," ",Object(C.jsx)("br",{}),S]})]}),Object(C.jsxs)("div",{className:"dropdown-content",children:[Object(C.jsxs)("button",{type:"button",className:"btn btn-default dropdown-item",id:"userDrop",onClick:function(){ut.replace("/perfil")},children:[Object(C.jsx)(A.a,{height:20,width:20})," Mi Perfil"]}),ct&&Object(C.jsxs)("button",{type:"button",className:"btn btn-default dropdown-item",id:"userDrop",onClick:function(){h(!0)},children:[Object(C.jsx)(U.a,{height:20,width:20})," Cambiar Rol"]}),Object(C.jsxs)("button",{onClick:bt,type:"button",className:"btn btn-default dropdown-item",id:"userDrop",children:[Object(C.jsx)(q.a,{height:20,width:20})," Cerrar Sesion"]})]}),Object(C.jsx)(D,{abrirRoles:m,cerrarModalRoles:mt,updateRol:ht})]})})})]}),Object(C.jsxs)("ul",{className:"nav nav-pills justify-content-center",id:"navmenu",children:[M&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/home",children:Object(C.jsx)(I.a,{style:{height:"23px",width:"23px"}})})}),J&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",type:"button",to:"/SolicitudesDeAdquisicion/".concat($e,"/").concat(Ke),children:"Solicitudes De Adquisicion"})}),W&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/SolicitudesDeAdquisicionAdmin/".concat(Ge),children:"Solicitudes De Adquisicion"})}),(oe||je)&&Object(C.jsx)("li",{className:"nav-container--item dropdown",children:Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsx)("button",{className:"dropbtn nav-link dropdown-toggle",children:"Administrar accesos"}),Object(C.jsxs)("div",{className:"dropdown-content",children:[oe&&Object(C.jsx)(o.b,{className:"dropdown-item",to:"/user",children:"Usuarios"}),je&&Object(C.jsx)(o.b,{className:"dropdown-item",to:"/roles",children:"Rol de Usuarios"})]})]})}),fe&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/UnidadesAdministrativas",children:"Unidades Administrativas"})}),he?Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/unidadesDeGasto",children:"Unidad de Gasto"})}):Object(C.jsx)("div",{}),we&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/empresas",children:"Empresas"})}),Ce&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"./SolicitudDeCotizaci\xf3n.pdf",download:!0,children:"Descargar Formulario"})}),Ae&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",type:"button",to:"./SolicitudDeAdquisicion.pdf",download:!0,children:"Descargar Formulario"})}),Ie&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/montoLimite/".concat(Ge),children:"Monto Limite"})}),Me&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/personal/".concat(Ge,"/").concat($e),children:"Personal"})})]})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)(D,{abrirRoles:m,cerrarModalRoles:mt,updateRol:ht,setRolEntrante:x}),Object(C.jsxs)("nav",{className:"navbar navbar-light justify-content-between",id:"cabecera",children:[Object(C.jsx)("h1",{children:" Sistema de Cotizaciones "}),Object(C.jsx)("div",{children:Object(C.jsx)("li",{className:"nav-container--item dropdown",id:"person",children:Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)("button",{type:"button",className:"btn btn-default dropdown-toggle",id:"userButton",children:[Object(C.jsx)(E.a,{id:"userImg"}),Object(C.jsxs)("label",{children:[c," ",Object(C.jsx)("br",{}),S]})]}),Object(C.jsxs)("div",{className:"dropdown-content",children:[ct&&Object(C.jsxs)("button",{type:"button",className:"btn btn-default dropdown-item",id:"userDrop",onClick:function(){h(!0)},children:[Object(C.jsx)(U.a,{height:20,width:20})," Cambiar Rol"]}),Object(C.jsxs)("button",{onClick:bt,type:"button",className:"btn btn-default dropdown-item",id:"userDrop",children:[Object(C.jsx)(q.a,{height:20,width:20})," Cerrar Sesion"]})]}),Object(C.jsx)(D,{abrirRoles:m,cerrarModalRoles:mt,updateRol:ht})]})})})]}),Object(C.jsxs)("ul",{className:"nav nav-pills justify-content-center",id:"navmenu",children:[M&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",to:"/home",children:Object(C.jsx)(I.a,{style:{height:"23px",width:"23px"}})})}),B&&Object(C.jsx)("li",{className:"nav-container--item",children:Object(C.jsx)(o.b,{className:"nav-link",type:"button",to:"/perfil",children:"Mi Perfil"})})]})]})})};c(176);var M=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(null),s=Object(j.a)(r,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=JSON.parse(window.localStorage.getItem("userDetails")),i(t.user)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsx)(C.Fragment,{children:"/ingresoCodigo"==window.location.pathname?Object(C.jsx)("nav",{className:"navbar navbar-info justify-content-between",id:"cabecera",children:Object(C.jsx)("h1",{children:" Sistema de Cotizaciones "})}):null===o?Object(C.jsxs)("div",{children:[Object(C.jsxs)("nav",{className:"navbar navbar-info justify-content-between",id:"cabecera",children:[Object(C.jsx)("h1",{children:" Sistema de Cotizaciones "}),Object(C.jsx)(f.a,{type:"button",color:"primary",onClick:function(){n(!0)},children:"Iniciar Sesi\xf3n"})]}),Object(C.jsx)(z,{abierto:c,cerrarModal:function(){n(!1)}})]}):Object(C.jsx)(F,{})})};c(92);function _(e){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("quotitations/spending/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function B(e){return G.apply(this,arguments)}function G(){return(G=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("quotitations/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function P(e){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/quotitation",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function V(e,t){return $.apply(this,arguments)}function $(){return($=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.post("/sendEmail/".concat(c),t,n);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function J(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/quotitation/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Y(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.put("/quotitation/status/".concat(t),c,n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function W(e){return H.apply(this,arguments)}function H(){return(H=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/getInform/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function K(e,t){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.get("/quote/".concat(c,"/").concat(t),n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/listQuotation/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ce(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),{headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/getComparativeChart/".concat(t));case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var ne=c(294),re=c(295),se=c(296),oe=c(297),ie=c(298),le=c(299),de=c(15),je=c(17),ue=(c(177),c(293)),be=c(10),me=c.n(be);var he=function(e){var t=Object(b.a)(),c=t.register,n=t.formState.errors,r=t.handleSubmit,s=t.reset,o=Object(a.useState)({emails:"",description:""}),i=Object(j.a)(o,2),O=i[0],x=i[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)([""]),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)([""]),E=Object(j.a)(z,2),A=E[0],U=E[1],q=function(e){var t=S.map((function(t,c){return c===e.target.tabIndex&&(t=" "==e.target.value[0]?e.target.value.substring(1):e.target.value),t}));k(Object(je.a)(t))},I=function(){e.cerrarModal(),x({emails:"",description:""}),k([""]),U([""]),N(""),s()},R=function(){var t=Object(d.a)(l.a.mark((function t(){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={emails:S,description:O.description},N("Enviando...."),console.log(c,e.id),document.getElementById("btnIE").disabled=!0,t.next=7,V(c,e.id);case 7:a=t.sent,me()({text:a.data.result,button:"Aceptar"}),x({email:"",description:""}),N(""),document.getElementById("btnIE").disabled=!1,s(),I(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abiertoEmail,children:Object(C.jsxs)("form",{onSubmit:r(R),children:[Object(C.jsx)(h.a,{toggle:I,children:"Envio por correo"}),Object(C.jsx)(p.a,{children:Object(C.jsx)("div",{className:"container",align:"left",children:Object(C.jsxs)("div",{className:"form-register",children:[Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"col-md-10",children:Object(C.jsx)("label",{children:"Correo de la Empresa:"})})}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-group col-md-10",children:S.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"correo[".concat(t,"]")},c("correo[".concat(t,"]"),{validate:{value:function(e){return function(e,t){if(""!=e){if(console.log(/@/.test(e)),e.length>10){if(/@/.test(e)){if(null!=/^[a-z0-9_-]+(?:\.[a-z0-9_-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.exec(e)){var c=A;return c[t]="",U(c),!0}var a=A;return a[t]="Este campo solo acepta caracteres alfanum\xe9ricos y especiales como el @ (arroba) .(punto) - (gui\xf3n) y _ (gui\xf3n bajo)",U(a),!1}var n=A;return n[t]="Este campo debe tener el car\xe1cter @",U(n),!1}var r=A;return r[t]="Este campo debe tener m\xednimo 11 caracteres",U(r),!1}var s=A;return s[t]="Este campo es requerido",U(s),!1}(e,t)}}})),{},{value:e,id:"email",tabIndex:t,type:"text",className:"form-control",onChange:q})),Object(C.jsx)("span",{style:{color:"#dc3545"},children:A[t]})]})}))}),Object(C.jsx)("div",{className:"form-group col-md-2",children:Object(C.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){S.length<5&&(k([].concat(Object(je.a)(S),[""])),x(Object(u.a)(Object(u.a)({},O),{},{emails:S})),U([].concat(Object(je.a)(A),[""])))},children:Object(C.jsx)(ue.a,{className:"mb-1"})})})]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col-md-10",children:[Object(C.jsx)("label",{children:"Descripci\xf3n:"}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("textarea",Object(u.a)(Object(u.a)({rows:"6",name:"description"},c("description",{required:"Campo requerido",minLength:{value:10,message:"Este campo debe tener entre 10 y 300 caracteres"},maxLength:{value:300,message:"Este campo debe tener entre 10 y 300 caracteres"}})),{},{value:O.description,type:"text",className:"form-control",onChange:function(e){" "==e.target.value[0]?x(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value.substring(1)))):x(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value)))}})),n.description&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.description.message})]})]})}),Object(C.jsxs)("div",{className:"form-row  justify-content-end",align:"right",children:[Object(C.jsx)("div",{style:{color:"red"},children:g}),Object(C.jsx)("button",{type:"submit",className:"btn btn-info my-2 my-sm-0",id:"btnIE",children:" Enviar "})]})]})})})]})})})},pe=c(23),Oe=c(45),xe=c(62),fe=c.n(xe),ve=c(63),ge=c.n(ve);c(133),c(271);function Ne(e){return we.apply(this,arguments)}function we(){return(we=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/quotitation/report/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ye(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/quotitation/report",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var ke=function(e){var t=JSON.parse(window.localStorage.getItem("userDetails")),c=t.user.name+" "+t.user.lastName,n=Object(a.useState)(new Date),r=Object(j.a)(n,2),s=r[0],o=r[1],i=Object(a.useState)(pe.EditorState.createEmpty()),u=Object(j.a)(i,2),b=u[0],O=u[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),v=f[0],g=f[1],N=function(){o(new Date),g(""),O(pe.EditorState.createEmpty()),e.cerrarModal()},w=function(e){O(e)},y=function(){var t=Object(d.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={dateReport:s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),administrative_username:c,description:fe()(Object(pe.convertToRaw)(b.getCurrentContent())),request_quotitations_id:e.id},!(Object(pe.convertToRaw)(b.getCurrentContent()).blocks[0].text.length>0)){t.next=18;break}return t.prev=3,e.rejectRequest&&e.rejectRequest(),t.next=7,ye(a);case 7:n=t.sent,me()({title:n.message,button:"Aceptar"}),O(pe.EditorState.createEmpty()),N(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:t.next=19;break;case 18:g("El campo es requerido");case 19:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{isOpen:e.abierto,children:[Object(C.jsx)(h.a,{toggle:N,children:Object(C.jsx)("h4",{children:"Agregar Informe"})}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-group col-md-7",children:Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("h5",{children:"Encargado:"}),null!=e.report?Object(C.jsx)("label",{style:{fontSize:"20px"},children:e.report.administrative_username}):Object(C.jsx)("label",{style:{fontSize:"20px"},children:" "+c})]})}),Object(C.jsx)("div",{className:"form-group col-md-5",children:Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("h5",{children:"Fecha: "}),null!=e.report?Object(C.jsx)("label",{style:{fontSize:"20px"},children:e.report.dateReport}):Object(C.jsx)("label",{style:{fontSize:"20px"},children:" "+s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()})]})})]}),function(){if(null!=e.report){var t=ge()(e.report.description),c=t.contentBlocks,a=t.entityMap,n=pe.ContentState.createFromBlockArray(c,a),r=pe.EditorState.createWithContent(n);return Object(C.jsx)(Oe.Editor,{editorState:r,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","history"]},readOnly:!0})}return Object(C.jsx)(Oe.Editor,{editorState:b,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",onEditorStateChange:w,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","history"]}})}(),Object(C.jsx)("span",{style:{color:"red"},children:v}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"form-col",style:{textAlign:"right"},children:[Object(C.jsx)("button",{className:"btn btn-secondary",style:{marginRight:"5px"},onClick:N,children:"Cancelar"}),null!=e.report?Object(C.jsx)("button",{className:"btn btn-primary",disabled:!0,children:" enviar "}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:y,children:" enviar "})]})]})]})})};function Ce(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/quotitation/quoteReport/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ee(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/quotitation/quoteReport",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var Ue=function(e){var t=JSON.parse(window.localStorage.getItem("userDetails")),c=t.user.name+" "+t.user.lastName,n=Object(a.useState)(new Date),r=Object(j.a)(n,2),s=r[0],o=r[1],i=Object(a.useState)(pe.EditorState.createEmpty()),u=Object(j.a)(i,2),b=u[0],O=u[1],x=Object(a.useState)(""),f=Object(j.a)(x,2),v=f[0],g=f[1],N=function(){o(new Date),g(""),O(pe.EditorState.createEmpty()),e.cerrarModal()},w=function(e){O(e)},y=function(){var t=Object(d.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={dateReport:s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),aplicantName:c,description:fe()(Object(pe.convertToRaw)(b.getCurrentContent())),request_quotitations_id:e.id},!(Object(pe.convertToRaw)(b.getCurrentContent()).blocks[0].text.length>0)){t.next=19;break}return t.prev=3,e.rejectRequest&&e.rejectRequest(),t.next=7,Ee(a);case 7:n=t.sent,me()({title:n.message,button:"Aceptar"}),e.setinformeEnviado(!0),O(pe.EditorState.createEmpty()),N(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0);case 17:t.next=20;break;case 19:g("El campo es requerido");case 20:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{isOpen:e.abierto,children:[Object(C.jsx)(h.a,{toggle:N,children:Object(C.jsx)("h4",{children:"Informe de Cotizaci\xf3n"})}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-group col-md-7",children:Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("h5",{children:"Encargado:"}),null!=e.report?Object(C.jsx)("label",{style:{fontSize:"20px"},children:e.report.aplicantName}):Object(C.jsx)("label",{style:{fontSize:"20px"},children:" "+c})]})}),Object(C.jsx)("div",{className:"form-group col-md-5",children:Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("h5",{children:"Fecha: "}),null!=e.report?Object(C.jsx)("label",{style:{fontSize:"20px"},children:e.report.dateReport}):Object(C.jsx)("label",{style:{fontSize:"20px"},children:" "+s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()})]})})]}),function(){if(null!=e.report){var t=ge()(e.report.description),c=t.contentBlocks,a=t.entityMap,n=pe.ContentState.createFromBlockArray(c,a),r=pe.EditorState.createWithContent(n);return Object(C.jsx)(Oe.Editor,{editorState:r,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","history"]},readOnly:!0})}return Object(C.jsx)(Oe.Editor,{editorState:b,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",onEditorStateChange:w,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","history"]}})}(),Object(C.jsx)("span",{style:{color:"red"},children:v}),Object(C.jsx)("br",{}),Object(C.jsx)("label",{style:{fontSize:"20px"},children:" Se adjunto el cuadro comparativo..."}),Object(C.jsxs)("div",{className:"form-col",style:{textAlign:"right"},children:[Object(C.jsx)("button",{className:"btn btn-secondary",style:{marginRight:"5px"},onClick:N,children:"Cancelar"}),null!=e.report?Object(C.jsx)("button",{className:"btn btn-primary",disabled:!0,children:" enviar "}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:y,children:" enviar "})]})]})]})})};var qe=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(R.h)().idUA),n=Object(a.useState)([]),r=Object(j.a)(n,2),s=r[0],o=r[1],i=Object(a.useState)(!1),m=Object(j.a)(i,2),h=m[0],p=m[1],O=Object(a.useState)(""),x=Object(j.a)(O,2),f=x[0],v=x[1],g=Object(R.g)(),N=Object(a.useState)({}),w=Object(j.a)(N,2),y=(w[0],w[1],Object(a.useState)(!1)),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)(null),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)(!1),D=Object(j.a)(I,2),F=D[0],M=D[1],_=Object(a.useState)(null),L=Object(j.a)(_,2),G=L[0],P=L[1],T=Object(a.useState)(""),V=Object(j.a)(T,2),$=V[0],J=V[1],Z=Object(a.useState)([]),Y=Object(j.a)(Z,2),Q=Y[0],W=Y[1];Object(a.useEffect)((function(){JSON.parse(window.localStorage.getItem("userDetails"));function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(c);case 3:t=e.sent,a=t.request_quotitations,console.log(a),o(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){W(s.filter((function(e){return e.nameUnidadGasto.toLowerCase().includes($.toLowerCase())})))}),[$,s]);var H=function(e){return"Pendiente"!=e.status?Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return ae(e.id)},children:[Object(C.jsx)(ne.a,{})," Informe Solicitud"]}):Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(ne.a,{})," Informe Solicitud"]})},K=function(e){return"Aceptado"==e.status&&"Finalizado"!==e.statusResponse?Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return ce(e.id)},children:[Object(C.jsx)(re.a,{})," Enviar correo"]}):Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(re.a,{})," Enviar correo"]})},X=function(e){if("Aceptado"==e.status){var t="http://127.0.0.1:8000/api/requestquotitationpdf/"+e.id;return Object(C.jsx)("button",{className:"dropdown-item",children:Object(C.jsxs)("a",{target:"true",href:t,style:{textDecoration:"none",padding:"0px",color:"#000"},children:[Object(C.jsx)(se.a,{})," Imprimir cotizaci\xf3n"]})})}return Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(se.a,{})," Imprimir cotizaci\xf3n"]})},ee=function(e){return"En proceso"===e.statusResponse||"Finalizado"===e.statusResponse?Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){g.push({pathname:"/cotizaciones/".concat(e.id),data:e})},children:[Object(C.jsx)(oe.a,{})," Cotizaciones"]}):Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(oe.a,{})," Cotizaciones"]})},te=function(e){return"Finalizado"===e.statusResponse?Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return g.push("/informeCotizacionResp/".concat(e.id))},children:[Object(C.jsx)(ne.a,{}),"Informe cotizacion"]}):Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(ne.a,{}),"Informe cotizacion"]})},ce=function(e){v(e),p(!0)},ae=function(e){!function(e){de.apply(this,arguments)}(e),v(e),z(!0)};function de(){return(de=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",t),e.prev=1,e.next=4,Ne(t);case 4:c=e.sent,console.log(c),q(c||null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",style:{marginBottom:"160px"},children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Solicitudes"}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("quotitation",{required:!0})),{},{className:"form-control",placeholder:"Ingrese unidad de gasto","aria-label":"Search",type:"search",id:"search",onChange:function(e){return J(e.target.value)}}))})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Unidad de Gasto"}),Object(C.jsx)("th",{scope:"col",children:"Fecha"}),Object(C.jsx)("th",{scope:"col",children:"Estado de Solicitud"}),Object(C.jsx)("th",{scope:"col",children:"Estado de Cotizaci\xf3n"}),Object(C.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(C.jsx)("tbody",{children:Q.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.nameUnidadGasto}),Object(C.jsx)("td",{children:e.requestDate}),Object(C.jsx)("td",{children:e.status}),Object(C.jsx)("td",{children:e.statusResponse}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)("button",{className:"dropbtn",children:[Object(C.jsx)(ie.a,{})," Acciones"]}),Object(C.jsxs)("div",{className:"dropdown-content dropdown-menu-right",children:[Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return g.push("/DetalleSolicitud/".concat(e.id))},children:[Object(C.jsx)(le.a,{})," Ver solicitud"]}),H(e),K(e),X(e),ee(e),te(e)]})]})})]},e.id)}))})]})})}),Object(C.jsx)(he,{id:f,abiertoEmail:h,cerrarModal:function(){p(!1)}}),Object(C.jsx)(ke,{id:f,abierto:k,cerrarModal:function(){q(null),z(!1)},report:U}),Object(C.jsx)(Ue,{id:f,abierto:F,cerrarModal:function(){P(null),M(!1)},report:G})]})})};c(272);var Ie=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),c=t[0];return t[1],Object(C.jsx)(C.Fragment,{children:null==c?Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("h1",{children:"Bienvenido"}),Object(C.jsx)("img",{src:"./logoumss.png"})]}):Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("h1",{children:"Bienvenido al sistema"}),Object(C.jsx)("h2",{children:"Revise sus datos personales"}),Object(C.jsx)("img",{src:"./logoumss.png"})]})})},Re=c(300);function De(){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/users",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Me(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.post("/register/".concat(c),t,n);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Le(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("users/unit/administrative/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ge(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("users/unit/administrative/out/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Te(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("users/unit/spending/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $e(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("users/unit/spending/out/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ze(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("usersAdmi/WithoutDrives",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qe(){return We.apply(this,arguments)}function We(){return(We=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("usersSpending/WithoutDrives",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function He(){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/rols",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xe(e){return et.apply(this,arguments)}function et(){return(et=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("roles/new",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function tt(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.put("users/update/".concat(t,"/").concat(c),{},n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function at(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.put("roles/edit",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}c(273);var rt=function(e){var t=Object(b.a)(),c=t.register,n=(t.formState.errors,t.handleSubmit),r=t.reset,s=Object(a.useState)([]),o=Object(j.a)(s,2),i=o[0],O=o[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)(!1),y=Object(j.a)(w,2),S=y[0],k=(y[1],function(){e.updateUsers(),e.CloseModalEditarU(),N(""),r()}),z=function(e,t){me()({text:e,icon:t,button:"Ok"})};Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He();case 3:t=e.sent,O(t.roles),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[O,S]);var E=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(0!=g&""!=g)){t.next=9;break}return t.next=4,tt(e.user.id,g);case 4:t.sent,z("Se realizo el cambio exitosamente","success"),k(),t.next=10;break;case 9:z("No selecciono un rol diferente","warning");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.isShowModalEditarU,children:Object(C.jsxs)("form",{onSubmit:n(E),children:[Object(C.jsx)(h.a,{toggle:k,children:Object(C.jsx)("h4",{children:"Editar Usuario"})}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Nombres:"}),Object(C.jsx)("input",{name:"nombres",className:"form-control",type:"text",value:e.user.name,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Apellidos:"}),Object(C.jsx)("input",{name:"apellidos",className:"form-control",type:"text",value:e.user.lastName,disabled:!0})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Carnet de Identidad:"}),Object(C.jsx)("input",{name:"carnet",className:"form-control",type:"text",value:e.user.ci,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Telefono:"}),Object(C.jsx)("input",{name:"telefono",className:"form-control",type:"text",value:e.user.phone,disabled:!0})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Direccion:"}),Object(C.jsx)("input",{name:"direccion",className:"form-control",type:"text",value:e.user.direction,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Correo Electronico:"}),Object(C.jsx)("input",{name:"correo",className:"form-control",type:"text",value:e.user.email,disabled:!0})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Nombre de usuario:"}),Object(C.jsx)("input",{name:"user",className:"form-control",type:"text",value:e.user.userName,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Rol de Usuario:"}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({name:"selectRol"},c("selectRol",{})),{},{className:"form-control",onClick:function(e){N(e.target.value)},children:[Object(C.jsx)("option",{value:"0",children:e.user.userRol}),i.map((function(t,c){if(t.nameRol!=e.user.userRol)return Object(C.jsx)("option",{value:t.id,children:t.nameRol},c)}))]}))]})]})]}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:k,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})};var st=function(e){var t=Object(b.a)(),c=t.register,n=t.formState.errors,r=t.handleSubmit,s=t.reset,o=Object(a.useState)({name:"",lastName:"",ci:"",phone:"",direction:"",email:"",userName:""}),i=Object(j.a)(o,2),O=i[0],f=i[1],v=Object(a.useState)(0),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)([]),S=Object(j.a)(y,2),k=S[0],z=S[1],E=function(){e.updateUsers(),e.CloseModalAgregarU(),f({name:"",lastName:"",ci:"",phone:"",direction:"",email:"",userName:""}),w(0),s()},A=function(e,t){me()({text:e,icon:t,button:"Ok"})};Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He();case 3:t=e.sent,z(t.roles),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=function(e){" "==e.target.value[0]?f(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value.substring(1)))):f(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value)))},q=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(O,N);case 2:t=e.sent,console.log("esto se envia user",O),t.data&&A(t.data.message,"warning"),t.data.message||(A("Registro exitoso","success"),E());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.isShowModalAgregarU,children:Object(C.jsxs)("form",{onSubmit:r(q),children:[Object(C.jsx)(h.a,{toggle:E,children:Object(C.jsx)("h4",{children:"Agregar Usuario"})}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Nombres:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"name"},c("name",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 30 caracteres"},maxLength:{value:30,message:"Este campo debe tener entre 3 y 30 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa a-zA-Z ]+$/,message:"Este campo solo acepta caracteres alfab\xe9ticos"}})),{},{value:O.name,type:"text",className:"form-control",onChange:U})),n.name&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.name.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Apellidos:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"lastName"},c("lastName",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 30 caracteres"},maxLength:{value:30,message:"Este campo debe tener entre 3 y 30 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa a-zA-Z ]+$/,message:"Este campo solo acepta caracteres alfab\xe9ticos"}})),{},{value:O.lastName,type:"text",className:"form-control",onChange:U})),n.lastName&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.lastName.message})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Carnet de Identidad:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"ci"},c("ci",{required:"Campo requerido",minLength:{value:6,message:"Este campo debe tener entre 6 y 10 valores num\xe9ricos"},maxLength:{value:10,message:"Este campo debe tener entre 6 y 10 valores num\xe9ricos"},pattern:{value:/^[0-9]+$/,message:"Este campo solo acepta valores num\xe9ricos"}})),{},{value:O.ci,type:"text",className:"form-control",onChange:U})),n.ci&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.ci.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Telefono:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"phone"},c("phone",{required:"Campo requerido",minLength:{value:7,message:"Este campo debe tener entre 7 y 8 n\xfameros"},maxLength:{value:8,message:"Este campo debe tener entre 7 y 8 n\xfameros"},pattern:{value:/^[0-9]+$/,message:"Este campo solo acepta valores num\xe9ricos"}})),{},{value:O.phone,type:"text",className:"form-control",onChange:U})),n.phone&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.phone.message})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Direccion:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"direction"},c("direction",{required:"Campo requerido",minLength:{value:10,message:"Este campo debe tener entre 10 y 30 caracteres"},maxLength:{value:30,message:"Este campo debe tener entre 10 y 30 caracteres"}})),{},{value:O.direction,type:"text",className:"form-control",onChange:U})),n.direction&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.direction.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Correo Electronico:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"email"},c("email",{required:"Campo requerido",validate:{value:function(e){return/@/.test(t=e)?null!=/^[a-z0-9_-]+(?:\.[a-z0-9_-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.exec(t)||"Este campo solo acepta caracteres alfanum\xe9ricos y especiales como el @ (arroba) .(punto) - (gui\xf3n) y _ (gui\xf3n bajo)":"Este campo debe tener el car\xe1cter @";var t}},minLength:{value:11,message:"Este campo debe tener m\xednimo 11 caracteres"}})),{},{value:O.email,type:"text",className:"form-control",onChange:U})),n.email&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.email.message})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h6",{children:"Nombre de usuario:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"userName"},c("userName",{required:"Campo requerido",minLength:{value:5,message:"Este campo debe tener entre 5 y 15 caracteres"},maxLength:{value:15,message:"Este campo debe tener entre 5 y 15 caracteres"},pattern:{value:/^[\w._-]+$/,message:"Este campo solo acepta caracteres alfanum\xe9ricos y especiales como el .(punto) - (gui\xf3n) y _ (gui\xf3n bajo)"}})),{},{value:O.userName,type:"text",className:"form-control",onChange:U})),n.userName&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.userName.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsxs)("h6",{children:["Rol de Usuario:",Object(C.jsx)("label",{style:{color:"silver"},children:"(opcional)"})]}),Object(C.jsxs)("select",{name:"selectRol",className:"form-control",onChange:function(e){w(e.target.value)},children:[Object(C.jsx)("option",{value:"",children:"Seleccione rol"}),k.map((function(e,t){if(1==e.id|2==e.id|3==e.id)return Object(C.jsx)("option",{value:e.id,children:e.nameRol},t)}))]})]})]})]}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:E,id:"btnV",children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary",id:"btnV",children:"Guardar"})]})]})})})};var ot=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(a.useState)([])),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(j.a)(o,2),m=i[0],h=i[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=O[0],v=O[1],g=Object(a.useState)(!1),N=Object(j.a)(g,2),w=N[0],y=N[1],S=Object(a.useState)({name:"",lastName:"",ci:"",phone:"",direction:"",email:"",userName:"",userRol:""}),k=Object(j.a)(S,2),z=k[0],E=k[1],A=Object(a.useState)(""),U=Object(j.a)(A,2),q=U[0],I=U[1],R=Object(a.useState)([]),D=Object(j.a)(R,2),F=D[0],M=D[1],_=function(){h(!m)};return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De();case 3:t=e.sent,s(t.users),console.log(t.users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s,m]),Object(a.useEffect)((function(){M(r.filter((function(e){return e.name.toLowerCase().includes(q.toLowerCase())})))}),[q,r]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Usuarios"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("usuario",{required:!0})),{},{className:"form-control",placeholder:"Ingrese nombre de usuario","aria-label":"Search",type:"search",id:"search",onChange:function(e){return I(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)(f.a,{color:"success",onClick:function(){y(!0)},children:[Object(C.jsx)(ue.a,{className:"mr-1"}),"Nuevo"]})})]}),Object(C.jsx)(st,{isShowModalAgregarU:w,CloseModalAgregarU:function(){y(!1)},updateUsers:_}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Nombre"}),Object(C.jsx)("th",{scope:"col",children:"Carnet de Identidad"}),Object(C.jsx)("th",{scope:"col",children:"Telefono"}),Object(C.jsx)("th",{scope:"col",children:"Correo"}),Object(C.jsx)("th",{scope:"col",children:"Rol de Usuario"}),Object(C.jsx)("th",{scope:"col",children:"Modificar"})]})}),Object(C.jsx)("tbody",{children:F.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:t+1}),Object(C.jsxs)("td",{children:[e.name," ",e.lastName]}),Object(C.jsx)("td",{children:e.ci}),Object(C.jsx)("td",{children:e.phone}),Object(C.jsx)("td",{children:e.email}),Object(C.jsx)("td",{children:e.userRol}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn  btn-warning",onClick:function(){v(!0),E(e)},style:{color:"white",backgroundColor:"orange"},children:Object(C.jsx)(Re.a,{})})})]},e.id)}))})]})})})]}),Object(C.jsx)(rt,{isShowModalEditarU:x,user:z,CloseModalEditarU:function(){v(!1)},updateUsers:_})]})};c(274);function it(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/searchCode",t);case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function dt(e){return jt.apply(this,arguments)}function jt(){return(jt=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/quotitation/details/"+t);case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ut(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/quotitacion/response",t);case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function mt(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(d.a)(l.a.mark((function e(t,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/quotitacion/response/"+c,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function pt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(d.a)(l.a.mark((function e(t,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/quotitacion/response/file/"+c,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function xt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/ua/quotitacion/response",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function vt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.post("/ua/quotitacion/response/"+c,t,n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Nt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.post("/ua/quotitacion/response/file/"+c,t,n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function yt(e,t){return St.apply(this,arguments)}function St(){return(St=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.post("/ua/quotitacion/response/file/uageneral/"+c,t,n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var kt=function(){var e=Object(R.g)(),t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=(t.watch,t.formState.errors,Object(a.useState)("")),s=Object(j.a)(r,2),o=s[0],i=s[1],m=function(){var t=Object(d.a)(l.a.mark((function t(c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it({code:c.code});case 2:(a=t.sent).status?e.push({pathname:"/respuestaCotizacion",data:a}):i("c\xf3digo invalido");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"container-fluid",align:"left",children:Object(C.jsxs)("div",{class:"row",children:[Object(C.jsx)("div",{class:"col-md-6",children:Object(C.jsx)("img",{src:"./logoumss.png"})}),Object(C.jsx)("div",{class:"col-md-4",children:Object(C.jsxs)("form",{onSubmit:n(m),children:[Object(C.jsx)("br",{}),Object(C.jsx)("h2",{align:"center",children:"Ingrese C\xf3digo"}),Object(C.jsx)("br",{}),Object(C.jsx)("input",Object(u.a)({className:"form-control",name:"code"},c("code",{required:!0}))),Object(C.jsx)("span",{style:{color:"red"},children:o}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-group col",align:"center",children:Object(C.jsx)("button",{type:"submit",className:"btn btn-success my-2 my-sm-0",children:"Acceder a Cotizaci\xf3n"})})]})})]})})})},Ct=(c(275),c(303)),zt=c(302),Et=c(301),At=function(e){var t,c,n,r,s,o,i,l,d=Object(b.a)(),O=d.register,v=d.handleSubmit,g=d.formState.errors,N=d.reset,w=Object(a.useState)([]),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)(!1),E=Object(j.a)(z,2),A=E[0],U=E[1],q=Object(a.useState)(null),I=Object(j.a)(q,2),R=I[0],D=I[1],F=function(){k([]),D(null),U(!1),N(),e.cerrarModal()};return Object(C.jsxs)(m.a,{isOpen:e.abierto,style:{top:"10%",transfrom:"translate(-50%, -50%)",width:"400px"},children:[Object(C.jsx)(h.a,{toggle:F,children:"Agregar Item Oferta"}),Object(C.jsxs)("form",{children:[Object(C.jsx)(p.a,{children:Object(C.jsxs)(Et.a,{className:"col-md-8",children:[Object(C.jsx)("label",{children:"Marca:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("marca",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(t=g.marca)||void 0===t?void 0:t.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(c=g.marca)||void 0===c?void 0:c.type)&&"Solo se permiten caracteres alfanumericos"}),Object(C.jsx)("label",{children:"Modelo:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("modelo",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(n=g.modelo)||void 0===n?void 0:n.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(r=g.modelo)||void 0===r?void 0:r.type)&&"Solo se permiten caracteres alfanumericos"}),Object(C.jsx)("label",{children:"Industria:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("industria",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(s=g.industria)||void 0===s?void 0:s.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(o=g.industria)||void 0===o?void 0:o.type)&&"Solo se permiten caracteres alfanumericos"}),Object(C.jsx)("label",{children:"Tiempo de Garantia:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("tiempo_garantia",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(i=g.tiempo_garantia)||void 0===i?void 0:i.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(l=g.tiempo_garantia)||void 0===l?void 0:l.type)&&"Solo se permiten caracteres alfanumericos"})]})}),Object(C.jsxs)(x.a,{children:[S.map((function(e,t){return Object(C.jsx)("li",{children:e},t)})),Object(C.jsxs)("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between"},children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("input",{name:"archivo",type:"file",id:"files",onChange:function(e){for(var t=[],c=[],a=0;a<e.target.files.length;a++){var n=e.target.files[a].name,r=n.slice(2+(n.lastIndexOf(".")-1>>>0));t.push(n),c.push(r)}var s=!0,o=!1;c.forEach((function(e){o||("pdf"===e||"jpg"===e||"docx"===e?s=!1:(s=!0,o=!0))})),U(s),k(t),D(e.target.files),console.log(e.target.files)}}),Object(C.jsxs)("label",{for:"files",children:[Object(C.jsx)(zt.a,{className:"mb-1"})," Adjuntar archivo"]})]}),Object(C.jsx)(f.a,{type:"button",onClick:v((function(t){if(!A){var c=new FormData;if(null!=R)for(var a=0;a<R.length;a++){c.append("file",R[a],R[a].name)}t.marca||t.industria||t.tiempo_garantia||t.modelo?(t.archivo=c,e.guardarOferta(t),me()({text:"Se agrego el detalle del producto",button:"Aceptar"}),F()):me()({text:"No agrego ning\xfan detalle del producto",button:"Aceptar"})}})),color:"primary",size:"sm",children:"Guardar"})]}),A&&Object(C.jsx)("label",{style:{color:"red"},children:"Los formatos de archivos permitidos son jpg, pdf y docx\u201d"})]})]})]})},Ut=function(e){var t=Object(a.useState)(0),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(0),o=Object(j.a)(s,2),i=o[0],l=o[1],d=Object(a.useState)(!1),u=Object(j.a)(d,2),b=u[0],m=u[1],h=Object(a.useState)(!0),p=Object(j.a)(h,2),O=p[0],x=p[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)({}),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)(!0),E=Object(j.a)(z,2),A=E[0],U=E[1],q=Object(a.useState)(!0),I=Object(j.a)(q,2),R=I[0],D=I[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(At,{abierto:b,guardarOferta:function(e){k(e)},cerrarModal:function(){m(!1)}}),Object(C.jsxs)("tr",{className:g,children:[Object(C.jsx)("td",{children:e.index+1}),Object(C.jsx)("td",{style:{textAlign:"center"},children:e.detalle.amount}),Object(C.jsx)("td",{children:e.detalle.unitMeasure}),Object(C.jsx)("td",{children:e.detalle.description}),Object(C.jsx)("td",{children:Object(C.jsx)("input",{id:"precioUnitario",className:"form-control",value:i,type:"number",onChange:function(t){t.target.value>0?D(!1):D(!0),l(t.target.value),r(t.target.value*e.detalle.amount)}})}),Object(C.jsxs)("td",{children:[" ",Object(C.jsx)("input",{className:"form-control",type:"number",value:n,onChange:function(){},readOnly:!0})," "]}),A&&Object(C.jsx)("td",{style:{textAlign:"center"},children:Object(C.jsx)(Ct.a,{id:"ofertaDetalle",style:{color:"orange",fontSize:"22px"},onClick:function(){m(!0)}})}),!A&&Object(C.jsx)("td",{style:{textAlign:"center"},children:Object(C.jsx)(Ct.a,{id:"ofertaDetalle",style:{color:"orange",fontSize:"22px"},onClick:function(){}})}),O&&Object(C.jsx)("td",{children:Object(C.jsx)("button",{style:{border:"none"},disabled:R,className:"btn btn-primary btn-sm",onClick:function(){var t=!1;if(i<0&&(t=!0),0===i&&(t=!0),""===i&&(t=!0),!t){var c={request_details_id:e.detalle.id,unitPrice:parseFloat(i),totalPrice:n};S&&(c.brand=S.marca,c.model=S.modelo,c.industry=S.industria,c.warrantyTime=S.tiempo_garantia,c.archivo=S.archivo),e.detallesCotizado(c),N("table-success"),x(!O),U(!A),document.getElementById("precioUnitario").disabled=!0}},children:"Guardar"})}),!O&&Object(C.jsx)("td",{children:Object(C.jsx)("button",{style:{border:"none"},className:"btn btn-danger btn-sm",onClick:function(){D(!0),l(0),r(0),e.elimiarCotizado(e.detalle.id),N(""),x(!O),U(!A),document.getElementById("precioUnitario").disabled=!1},children:"Cancelar"})})]})]})};var qt=function(e){var t,c,n,r,s,o=Object(b.a)(),i=o.register,m=o.formState.errors,h=o.handleSubmit,p=Object(R.g)(),O=Object(a.useState)(""),x=Object(j.a)(O,2),f=x[0],v=x[1],g=Object(a.useState)(""),N=Object(j.a)(g,2),w=N[0],y=N[1],S=Object(a.useState)(""),k=Object(j.a)(S,2),z=k[0],E=k[1],A=Object(a.useState)([]),U=Object(j.a)(A,2),q=U[0],I=U[1],D=Object(a.useState)(""),F=Object(j.a)(D,2),M=F[0],_=F[1],L=Object(a.useState)(""),B=Object(j.a)(L,2),G=B[0],P=B[1],T=Object(a.useState)([]),V=Object(j.a)(T,2),$=V[0],J=V[1],Z=Object(a.useState)({}),Y=Object(j.a)(Z,2),Q=Y[0],W=Y[1],H=Object(a.useState)(""),K=Object(j.a)(H,2),X=K[0],ee=K[1],te=Object(a.useState)(0),ce=Object(j.a)(te,2),ae=ce[0],ne=ce[1],re=Object(a.useState)(!0),se=Object(j.a)(re,2),oe=se[0],ie=se[1],le=Object(a.useState)(!1),de=Object(j.a)(le,2),ue=(de[0],de[1],function(e){ee("");var t=!1;$.forEach((function(c){c.request_details_id===e.request_details_id&&(t=!0)})),t||e.totalPrice>0&&J([].concat(Object(je.a)($),[e]))}),be=function(e){var t,c=0;$.forEach((function(a){a.request_details_id===e&&(t=c),c++})),$.splice(t,1),J($)},he=function(){p.push("/ingresoCodigo")},pe=function(){var e=Object(d.a)(l.a.mark((function e(t,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(t,c);case 2:return a=e.sent,e.next=5,pt(t.archivo,a.response);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.company_codes_id=Q.id,t.answerDate=(new Date).toISOString().substr(0,10),t.nameEmpresa=f,t.email=Q.email,t.nit=w,t.rubro=z,t.business_id=ae,e.prev=7,!($.length>0)){e.next=19;break}return console.log(t),e.next=12,ut(t);case 12:c=e.sent,console.log(c),$.forEach((function(e){pe(e,c.response.id)})),me()({text:c.response.message,button:"Aceptar"}),he(),e.next=20;break;case 19:ee("No cotizo ningun detalle \xf3 no guardo, revise por favor");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[7,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t=e.location.data;W({id:t.id,email:t.email,request_quotitations_id:t.request_quotitations_id}),t.empresa?(ne(t.empresa.id),v(t.empresa.nameEmpresa)):ie(!1);var c=Date.now(),a=new Date(c);_(a.toLocaleDateString()),P(function(){var e=new Date,t=e.getDate();e.getDate()<10&&(t="0"+t);var c=e.getMonth()+1;return e.getMonth()<10&&(c="0"+c),e.getFullYear()+"-"+c+"-"+t}()),function(){var e=Object(d.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt(t.request_quotitations_id);case 3:c=e.sent,I(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"container",align:"left",children:Object(C.jsx)("div",{className:"col",children:Object(C.jsx)("div",{className:"form-register",children:Object(C.jsxs)("form",{onSubmit:h(Oe),children:[Object(C.jsx)("h3",{children:"Datos del proveedor"}),Object(C.jsx)("hr",{style:{margin:"0px"}}),Object(C.jsxs)("div",{className:"form-row",children:[oe&&Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Empresa:"}),Object(C.jsx)("input",{readOnly:!0,id:"nameEmpresa",value:f,type:"text",className:"form-control form-control-sm"})]}),!oe&&Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsxs)("label",{children:["Empresa:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({autoFocus:!0,id:"nameEmpresa",value:f},i("nameEmpresa",{required:!0})),{},{onChange:function(e){v(e.target.value)},type:"text",className:"form-control form-control-sm"})),"required"===(null===(t=m.nameEmpresa)||void 0===t?void 0:t.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]}),!oe&&Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsxs)("label",{children:["NIT:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({value:w},i("nit",{required:!0})),{},{onChange:function(e){y(e.target.value)},type:"text",className:"form-control form-control-sm"})),"required"===(null===(c=m.nit)||void 0===c?void 0:c.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]}),!oe&&Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsxs)("label",{children:["Rubro:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({value:z},i("rubro",{required:!0})),{},{onChange:function(e){E(e.target.value)},type:"text",className:"form-control form-control-sm"})),"required"===(null===(n=m.rubro)||void 0===n?void 0:n.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]})]}),Object(C.jsx)("h3",{children:"Datos de Cotizaci\xf3n"}),Object(C.jsx)("hr",{style:{margin:"0px"}}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Validez de la oferta:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({},i("offerValidity",{required:!0})),{},{type:"date",min:G,className:"form-control form-control-sm"})),"required"===(null===(r=m.offerValidity)||void 0===r?void 0:r.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]}),Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Fecha de Respuesta:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",{value:M,onChange:function(){},type:"text",className:"form-control form-control-sm"})]}),Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Formas de Pago:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({},i("paymentMethod")),{},{className:"form-control form-control-sm","aria-label":"Default select example",children:[Object(C.jsx)("option",{value:"efectivo",children:"Efectivo"}),Object(C.jsx)("option",{value:"credito",children:"Credito"})]}))]}),Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Tiempo de Entrega:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({},i("deliveryTime",{required:!0})),{},{type:"date",min:G,className:"form-control form-control-sm"})),m.deliveryTime&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]})]}),Object(C.jsxs)("table",{className:"table table-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{width:"3%",scope:"col",children:"N\xb0"}),Object(C.jsx)("th",{width:"10%",scope:"col",children:"Cantidad"}),Object(C.jsx)("th",{width:"10%",scope:"col",children:"Unidad"}),Object(C.jsx)("th",{width:"40%",scope:"col",children:"Destalle"}),Object(C.jsx)("th",{width:"12%",scope:"col",children:"Precio Unit."}),Object(C.jsx)("th",{width:"13%",scope:"col",children:"Precio total"}),Object(C.jsx)("th",{width:"6%",scope:"col",children:"Oferta"}),Object(C.jsx)("th",{width:"6%",scope:"col",children:"Cotizar"})]})}),Object(C.jsx)("tbody",{children:q.map((function(e,t){return Object(C.jsx)(Ut,{detallesCotizado:ue,setMessage:ee,elimiarCotizado:be,detalle:e,index:t,register:i},e.id)}))})]}),Object(C.jsx)("div",{style:{textAlign:"right",width:"100%"},children:Object(C.jsx)("span",{style:{color:"red"},children:X})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("label",{children:"Observaciones:"}),Object(C.jsx)("textarea",Object(u.a)(Object(u.a)({},i("observation",{maxLength:200})),{},{type:"text",className:"form-control"})),"maxLength"===(null===(s=m.observation)||void 0===s?void 0:s.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Supero el limite de 200 caracteres"})]})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{className:"btn btn-secondary",onClick:he,id:"btnV",children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-success ml-4",id:"btnEnviar",children:"Enviar"})]})})]})})})})})};function It(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/faculties/use",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Dt(){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("faculties/in/use",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Mt(){return _t.apply(this,arguments)}function _t(){return(_t=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/administrativeUnit",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Lt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/administrativeUnit/new",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Gt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.put("/assignBossesAdmin/".concat(t,"/").concat(c),{},n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Tt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("administrativeUnit/personal/new",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var $t=function(e){var t=Object(b.a)(),c=t.register,n=t.formState.errors,r=t.handleSubmit,s=t.reset,o=Object(a.useState)(""),i=Object(j.a)(o,2),p=i[0],O=i[1],f=Object(a.useState)([]),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)(!1),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)([]),E=Object(j.a)(z,2),A=E[0],U=E[1],q=Object(a.useState)(""),I=Object(j.a)(q,2),R=(I[0],I[1]),D=function(){e.closeModalRUA(),e.updateAdministrativas(),O(""),R(""),M(),F(),s()},F=function(){k(!S)},M=function(){k(!S)},_=function(){var e=Object(d.a)(l.a.mark((function e(t,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Unidad:",t.nameUnidadAdministrativa,"Facultad:",t.selectFacultad,"IdAdmin:",t.idUser),e.next=4,Lt({name:t.nameUnidadAdministrativa,faculties_id:t.selectFacultad,idUser:t.idUser});case 4:a=e.sent,c=a.message,me()({text:c,icon:"success",button:"Ok"}),D(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var c}),e,null,[[0,9]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It();case 3:t=e.sent,N(t.facultades),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[N,S]),Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze();case 3:t=e.sent,U(t.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[U,S]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.isShowModalRegistroUA,style:{top:"10%",transfrom:"translate(-50%, -50%)"},children:Object(C.jsxs)("form",{onSubmit:r(_),children:[Object(C.jsx)(h.a,{toggle:D,children:"Agregar Unidad Administrativa"}),Object(C.jsx)("div",{className:"modal-body",children:Object(C.jsxs)("div",{className:"form-rom",children:[Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Nombre de Unidad:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"nameUnidadAdministrativa"},c("nameUnidadAdministrativa",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 50 caracteres"},maxLength:{value:50,message:"Este campo debe tener entre 3 y 50 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa. a-zA-Z ]+$/,message:"El campo solo permite caracteres alfabeticos"}})),{},{className:"form-control",type:"text",value:p,onChange:function(e){" "==e.target.value[0]?O(e.target.value.substring(1)):O(e.target.value)}})),n.nameUnidadAdministrativa&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.nameUnidadAdministrativa.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Facultad:"}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({name:"selectFacultad"},c("selectFacultad",{required:"Seleccione facultad"})),{},{className:"form-control",children:[Object(C.jsx)("option",{value:"",children:"Seleccione la facultad"}),g.map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.nameFacultad})}))]})),n.selectFacultad&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.selectFacultad.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsxs)("h6",{children:["Administrador de Unidad:",Object(C.jsx)("label",{style:{color:"silver"},children:"(opcional)"})]}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({name:"idUser"},c("idUser")),{},{className:"form-control",children:[Object(C.jsx)("option",{value:"",children:"Seleccione Administrador"}),A.map((function(e){return Object(C.jsxs)("option",{value:e.id,children:[e.name," ",e.lastName]})}))]}))]})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:D,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})};var Jt=function(e){var t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=(t.formState.errors,t.reset),s=Object(a.useState)([]),o=Object(j.a)(s,2),i=o[0],O=o[1],f=Object(a.useState)(!1),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)(""),y=Object(j.a)(w,2),S=y[0],k=y[1],z=function(){e.cerrarEditor(),e.updateAdministrativas(),k(""),E(),r()},E=function(){N(!g)},A=function(e,t){me()({text:e,icon:t,button:"Ok"})},U=function(){var t=Object(d.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""==S){t.next=10;break}return console.log("IdAdminNuevo:",c.admin_id,"IdUnidad:",e.administrativeUnit.id),t.next=5,Gt(c.admin_id,e.administrativeUnit.id);case 5:t.sent,A("Se realizo el cambio exitosamente","success"),z(),t.next=11;break;case 10:A("No realizo cambios","warning");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze();case 3:t=e.sent,O(t.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[O,g]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abrirEditor,style:{top:"10%",transfrom:"translate(-50%, -50%)"},children:Object(C.jsxs)("form",{onSubmit:n(U),children:[Object(C.jsx)(h.a,{toggle:z,children:"Editar Unidad Administrativa"}),Object(C.jsx)(p.a,{children:Object(C.jsxs)("div",{className:"form-rom",children:[Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Nombre de Unidad Administrativa:"}),Object(C.jsx)("input",{name:"nameUnidadGasto",className:"form-control",type:"text",value:e.administrativeUnit.name,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Facultad:"}),Object(C.jsx)("select",{name:"faculties_id",className:"form-control",disabled:!0,children:Object(C.jsx)("option",{value:"",children:e.administrativeUnit.faculty})})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Administrador de Unidad:"}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({name:"admin_id"},c("admin_id")),{},{className:"form-control",onClick:function(e){k(e.target.value)},children:[Object(C.jsxs)("option",{id:"admi",value:"",children:[e.administrativeUnit.admin[0].name," ",e.administrativeUnit.admin[0].lastName]}),i.map((function(e){return Object(C.jsxs)("option",{value:e.id,children:[e.name," ",e.lastName]})}))]}))]})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:z,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})};var Zt=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(b.a)().reset,Object(a.useState)([])),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)({name:"",faculty:"",admin:[{id:"",name:"",lastName:""}]}),i=Object(j.a)(o,2),m=i[0],h=i[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=O[0],f=O[1],v=Object(a.useState)(!1),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)(!1),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)(""),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)([]),R=Object(j.a)(I,2),D=R[0],F=R[1],M=function(){z(!k)};return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt();case 3:t=e.sent,s(t.Administrative_unit),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[s,k]),Object(a.useEffect)((function(){F(r.filter((function(e){return e.name.toLowerCase().includes(U.toLowerCase())})))}),[U,r]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Unidades Administrativas"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("unit",{required:!0})),{},{className:"form-control",placeholder:"Ingrese nombre de unidad administrativa","aria-label":"Search",type:"search",id:"search",onChange:function(e){return q(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)("button",{type:"button",className:"btn btn-success my-2 my-sm-0",onClick:function(){return f(!0)},children:[Object(C.jsx)(ue.a,{className:"mb-1"})," Nuevo "]})})]}),Object(C.jsx)($t,{isShowModalRegistroUA:x,closeModalRUA:function(){f(!1)},updateAdministrativas:M}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Nombre"}),Object(C.jsx)("th",{scope:"col",children:"Facultad"}),Object(C.jsx)("th",{scope:"col",children:"Encargado"}),Object(C.jsx)("th",{scope:"col",children:"Editar"})]})}),Object(C.jsx)("tbody",{children:D.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:e.faculty}),Object(C.jsxs)("td",{children:[e.admin[0].name," ",e.admin[0].lastName]}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn  btn-warning",onClick:function(){w(!0),h(e)},style:{color:"white",backgroundColor:"orange"},children:Object(C.jsx)(Re.a,{})})})]})}))})]})})})]}),Object(C.jsx)(Jt,{abrirEditor:N,administrativeUnit:m,cerrarEditor:function(){w(!1)},updateAdministrativas:M})]})};function Yt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/spendingUnits",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Wt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/spendingUnits/new",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Kt(e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(d.a)(l.a.mark((function e(t,c){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.localStorage.getItem("tokenContizacion"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=2,e.next=5,N.put("/assignBossesSpending/".concat(t,"/").concat(c),{},n);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ec(e){return tc.apply(this,arguments)}function tc(){return(tc=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("spendingUnit/personal/new",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}c(276);var cc=function(e){var t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=t.formState.errors,s=t.reset,o=Object(a.useState)([]),i=Object(j.a)(o,2),p=i[0],O=i[1],f=Object(a.useState)([]),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)(""),y=Object(j.a)(w,2),S=(y[0],y[1]),k=Object(a.useState)(!1),z=Object(j.a)(k,2),E=z[0],A=z[1],U=Object(a.useState)(""),q=Object(j.a)(U,2),I=q[0],R=q[1],D=Object(a.useState)({value:"",label:"Seleccione facultad"}),F=Object(j.a)(D,2),M=F[0],_=(F[1],function(){e.cerrarModal(),e.updateGastos(),R(""),S(""),L(),s()}),L=function(){A(!E)},B=function(e,t){me()({text:e,icon:t,button:"Ok"})},G=function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wt(t);case 3:"Registro exitoso"==(c=e.sent).message?(B(c.message,"success"),_()):B(c.message,"warning"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dt();case 3:t=e.sent,O(t.facultades),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:t=e.sent,N(t.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[N,E]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abierto,style:{top:"10%",transfrom:"translate(-50%, -50%)"},children:Object(C.jsxs)("form",{onSubmit:n(G),children:[Object(C.jsx)(h.a,{toggle:_,children:"Agregar Unidad de Gasto"}),Object(C.jsx)("div",{className:"modal-body",children:Object(C.jsxs)("div",{className:"form-rom",children:[Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Nombre de Unidad de Gasto:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"nameUnidadGasto"},c("nameUnidadGasto",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 50 caracteres"},maxLength:{value:50,message:"Este campo debe tener entre 3 y 50 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa. a-zA-Z ]+$/,message:"El campo solo permite caracteres alfabeticos"}})),{},{className:"form-control",type:"text",value:I,onChange:function(e){" "==e.target.value[0]?R(e.target.value.substring(1)):R(e.target.value)}})),r.nameUnidadGasto&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.nameUnidadGasto.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Facultad:"}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({name:"faculties_id"},c("faculties_id",{required:"Seleccione facultad"})),{},{className:"form-control",children:[Object(C.jsx)("option",{value:M.value,children:M.label}),p.map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.nameFacultad})}))]})),r.faculties_id&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.faculties_id.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsxs)("h6",{children:["Administrador de Unidad:",Object(C.jsx)("label",{style:{color:"silver"},children:"(opcional)"})]}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({name:"idUser"},c("idUser")),{},{className:"form-control",children:[Object(C.jsx)("option",{value:"",children:"Seleccione Administrador"}),g.map((function(e){return Object(C.jsxs)("option",{value:e.id,children:[e.name," ",e.lastName]})}))]}))]})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:_,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})};var ac=function(e){var t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=(t.formState.errors,t.reset),s=Object(a.useState)([]),o=Object(j.a)(s,2),i=o[0],O=o[1],f=Object(a.useState)(!1),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)(""),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)({id:"",name:"",lastName:""}),E=Object(j.a)(z,2),A=(E[0],E[1],function(){e.cerrarEditor(),e.updateGastos(),U(),k(""),r()}),U=function(){N(!g)},q=function(e,t){me()({text:e,icon:t,button:"Ok"})},I=function(){var t=Object(d.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""==S){t.next=10;break}return console.log("IdAdminNuevo:",c.admin_id,"IdUnidad:",e.gasto.id),t.next=5,Kt(c.admin_id,e.gasto.id);case 5:t.sent,q("Se realizo el cambio exitosamente","success"),A(),t.next=12;break;case 10:q("No realizo cambios","warning"),console.log("es el mismo id:",S);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:t=e.sent,O(t.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[O,g]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abrirEditor,style:{top:"10%",transfrom:"translate(-50%, -50%)"},children:Object(C.jsxs)("form",{onSubmit:n(I),children:[Object(C.jsx)(h.a,{toggle:A,children:"Editar Unidad de Gasto"}),Object(C.jsx)(p.a,{children:Object(C.jsxs)("div",{className:"form-rom",children:[Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Nombre de Unidad de Gasto:"}),Object(C.jsx)("input",{name:"nameUnidadGasto",className:"form-control",type:"text",value:e.gasto.nameUnidadGasto,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Facultad:"}),Object(C.jsx)("select",{name:"faculties_id",className:"form-control",disabled:!0,children:Object(C.jsx)("option",{value:"",children:e.gasto.faculty})})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Administrador de Unidad:"}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({id:"admin_id",name:"admin_id"},c("admin_id")),{},{className:"form-control",onClick:function(e){k(e.target.value)},children:[Object(C.jsxs)("option",{id:"admi",value:"",children:[e.gasto.admin[0].name," ",e.gasto.admin[0].lastName]}),i.map((function(e){return Object(C.jsxs)("option",{value:e.id,children:[e.name," ",e.lastName]})}))]}))]})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:A,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})},nc=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(a.useState)(!1)),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(j.a)(o,2),m=i[0],h=i[1],p=Object(a.useState)([]),O=Object(j.a)(p,2),x=O[0],v=O[1],g=Object(a.useState)({nameUnidadGasto:"",faculty:[{id:"",nameFacultad:""}],admin:[{id:"",name:"",lastName:""}]}),N=Object(j.a)(g,2),w=N[0],y=N[1],S=Object(a.useState)(!1),k=Object(j.a)(S,2),z=k[0],E=k[1],A=Object(a.useState)({id:"",name:"",lastName:""}),U=Object(j.a)(A,2),q=(U[0],U[1],Object(a.useState)("")),I=Object(j.a)(q,2),R=I[0],D=I[1],F=Object(a.useState)([]),M=Object(j.a)(F,2),_=M[0],L=M[1],B=function(){E(!z)};return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yt();case 3:t=e.sent,v(t.spending_units),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[v,z]),Object(a.useEffect)((function(){L(x.filter((function(e){return e.nameUnidadGasto.toLowerCase().includes(R.toLowerCase())})))}),[R,x]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Unidades de Gasto"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("unidad",{required:!0})),{},{className:"form-control",placeholder:"Ingrese nombre de unidad administrativa","aria-label":"Search",type:"search",id:"search",onChange:function(e){return D(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)(f.a,{color:"success",onClick:function(){s(!0)},children:[Object(C.jsx)(ue.a,{className:"mr-1"}),"Nuevo"]})})]}),Object(C.jsx)(cc,{abierto:r,cerrarModal:function(){s(!1)},updateGastos:B}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Nombre"}),Object(C.jsx)("th",{scope:"col",children:"Facultad"}),Object(C.jsx)("th",{scope:"col",children:"Encargado"}),Object(C.jsx)("th",{scope:"col",children:"Editar"})]})}),Object(C.jsx)("tbody",{children:_.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.nameUnidadGasto}),Object(C.jsx)("td",{children:e.faculty}),Object(C.jsxs)("td",{children:[e.admin[0].name," ",e.admin[0].lastName]}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn  btn-warning",onClick:function(){h(!0),y(e)},style:{color:"white",backgroundColor:"orange"},children:Object(C.jsx)(Re.a,{})})})]})}))})]})})})]}),Object(C.jsx)(ac,{abrirEditor:m,gasto:w,cerrarEditor:function(){h(!1)},updateGastos:B})]})};function rc(e){return sc.apply(this,arguments)}function sc(){return(sc=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("/limiteAmounts/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function oc(e){return ic.apply(this,arguments)}function ic(){return(ic=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("/updateLimiteAmount",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var lc=function(e){var t=Object(b.a)(),c=t.register,a=t.handleSubmit,n=t.formState.errors,r=t.reset,s=function(){r(),e.cerrarModal()},o=function(){var t=Object(d.a)(l.a.mark((function t(c){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Date,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),t.next=4,oc({monto:c.monto,starDate:n,steps:a.getFullYear(),administrative_units_id:e.idUA});case 4:r=t.sent,console.log({monto:c.monto,starDate:n,steps:a.getFullYear(),administrative_units_id:e.idUA}),e.updateLimitAmout(),s(),console.log(r);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)(m.a,{isOpen:e.abierto,style:{top:"20%",transfrom:"translate(-50%, -50%)",width:"400px"},children:[Object(C.jsx)(h.a,{toggle:s,children:"Actualizar Monto Limite"}),Object(C.jsxs)("form",{onSubmit:a(o),children:[Object(C.jsx)(p.a,{children:Object(C.jsxs)(Et.a,{className:"col-md-8",children:[Object(C.jsx)(O.a,{for:"monto",children:"Monto Limite:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"monto"},c("monto",{required:"este campo es requerido",min:{value:1,message:"dato invalido"},max:{value:1e5,message:"dato invalido"}})),{},{className:"form-control",type:"number"})),n.monto&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.monto.message})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(f.a,{onClick:s,children:"Cancelar"}),Object(C.jsx)(f.a,{type:"submit",color:"primary",children:"Guardar"})]})]})]})};var dc=function(){var e=Object(R.h)().idUA,t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),o=Object(j.a)(s,2),i=o[0],u=o[1],b=Object(a.useState)({monto:""}),m=Object(j.a)(b,2),h=m[0],p=m[1],O=n.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.steps}),Object(C.jsx)("td",{children:e.monto}),Object(C.jsx)("td",{children:e.starDate}),Object(C.jsx)("td",{children:e.endDate})]},e.id)})),x=Object(a.useState)(!1),v=Object(j.a)(x,2),g=v[0],N=v[1];return Object(a.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rc(e);case 3:(c=t.sent).Limite_Amounts.length>0&&p(c.Limite_Amounts[c.Limite_Amounts.length-1]),r(c.Limite_Amounts),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[r,i]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsxs)("div",{className:"form-inline",children:[Object(C.jsx)("strong",{children:"Gestion Actual"}),Object(C.jsx)("input",{value:"2021",className:"form-control mr-sm-2",style:{width:"100px",marginLeft:"10px"},readonly:!0})]})}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)("div",{className:"form-inline",align:"right",children:[Object(C.jsx)("strong",{children:"Monto Limite Actual"}),Object(C.jsx)("input",{value:h.monto,className:"form-control mr-sm-2",style:{width:"100px",marginLeft:"10px"},readonly:!0})]})})]}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6"}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)(f.a,{type:"button",className:"btn btn-success my-2 my-sm-0",onClick:function(){N(!0)},children:[Object(C.jsx)(ue.a,{className:"mb-1"})," Actualizar Monto "]})})]}),Object(C.jsx)(lc,{idUA:e,abierto:g,cerrarModal:function(){N(!1)},updateLimitAmout:function(){u(!i)}}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Gestiones"}),Object(C.jsx)("th",{scope:"col",children:"Montos limites"}),Object(C.jsx)("th",{scope:"col",children:"Fecha de inicio"}),Object(C.jsx)("th",{scope:"col",children:"Fecha de finalizaci\xf3n"})]})}),Object(C.jsx)("tbody",{children:O})]})})})]})})};c(137);var jc=function(e){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{isOpen:e.abrirModalInforme,children:[Object(C.jsx)(h.a,{toggle:function(){e.CerrarModal()},children:Object(C.jsx)("h4",{children:"Informe"})}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-group col-md-7",children:Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("h5",{children:"Encargado: "}),Object(C.jsx)("label",{children:e.report.administrative_username})]})}),Object(C.jsx)("div",{className:"form-group col-md-5",children:Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("h5",{children:"Fecha: "}),Object(C.jsx)("label",{children:e.report.dateReport})]})})]}),Object(C.jsx)("div",{className:"container",id:"containerInforme",children:Object(C.jsx)("div",{dangerouslySetInnerHTML:function(e){try{return{__html:e}}catch(t){return console.log(t),{__html:"Error"}}}(e.report.description)})})]})]})})};var uc=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(R.h)().idUA,Object(R.h)().idUS),n=Object(R.h)().nameUS,r=Object(a.useState)(!1),s=Object(j.a)(r,2),o=s[0],i=s[1],m=Object(a.useState)(""),h=Object(j.a)(m,2),p=h[0],O=h[1],x=Object(a.useState)({description:""}),f=Object(j.a)(x,2),v=f[0],g=f[1],N=Object(a.useState)(""),w=Object(j.a)(N,2),y=w[0],S=w[1],k=Object(a.useState)([]),z=Object(j.a)(k,2),E=(z[0],z[1]),A=Object(R.g)(),U=Object(a.useState)([]),q=Object(j.a)(U,2),I=q[0],D=q[1];function F(){return(F=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",t),e.prev=1,e.next=4,Ne(t);case 4:c=e.sent,console.log(c),c&&g(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}Object(a.useEffect)((function(){JSON.parse(window.localStorage.getItem("userDetails"));function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("llega esta unidad a solicitudes",c),e.next=4,_(c);case 4:t=e.sent,console.log(t),a=t.request_quotitations,D(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){E(I.filter((function(e){return e.nameUnidadGasto.toLowerCase().includes(y.toLowerCase())})))}),[y,I]);var M=function(e,t){return"Finalizado"===t?Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return A.push("/informeCotizacionResp/".concat(e))},children:[Object(C.jsx)(oe.a,{})," Respuesta Cotizaci\xf3n"]}):Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(oe.a,{})," Respuesta Cotizaci\xf3n"]})},L=function(e){!function(e){F.apply(this,arguments)}(e),O(e),i(!0)},B=I.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.nameUnidadGasto}),Object(C.jsx)("td",{children:e.requestDate}),Object(C.jsx)("td",{children:e.status}),Object(C.jsx)("td",{children:e.statusResponse}),Object(C.jsx)("td",{children:Object(C.jsx)("li",{className:"nav-container--item dropdown",children:Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)("button",{className:"dropbtn",children:[Object(C.jsx)(ie.a,{}),"Acciones"]}),Object(C.jsxs)("div",{className:"dropdown-content  dropdown-menu-right",children:[Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return A.push("/verSolicitud/".concat(e.id))},children:[Object(C.jsx)(le.a,{})," Ver solicitud"]}),(c=e.id,a=e.statusReport,a?Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return L(c)},children:[Object(C.jsx)(ne.a,{})," Ver informe"]}):Object(C.jsxs)("button",{className:"dropdown-item",disabled:!0,children:[Object(C.jsx)(ne.a,{})," Ver informe"]})),M(e.id,e.statusResponse)]})]})})})]},t);var c,a}));return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",style:{marginBottom:"100px"},children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Solicitudes"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("solicitud",{required:!0})),{},{className:"form-control",placeholder:"Ingrese nombre unidad de gasto","aria-label":"Search",type:"search",id:"search",onChange:function(e){return S(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)("button",{type:"button",className:"btn btn-success my-2 my-sm-0",onClick:function(){A.push("/AgregarDetalleSolictud/".concat(c,"/").concat(n))},children:[Object(C.jsx)(ue.a,{className:"mb-1"})," Nueva Solicitud "]})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Unidad de Gasto"}),Object(C.jsx)("th",{scope:"col",children:"Fecha"}),Object(C.jsx)("th",{scope:"col",children:"Estado de Solicitud"}),Object(C.jsx)("th",{scope:"col",children:"Estado de Cotizaci\xf3n"}),Object(C.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(C.jsx)("tbody",{children:B})]})})}),Object(C.jsx)(jc,{CerrarModal:function(){i(!1),g([{description:""}])},abrirModalInforme:o,idSolicitud:p,report:v})]})})};c(134);var bc=function(e){var t=Object(b.a)(),c=t.register,n=t.formState.errors,r=t.handleSubmit,s=t.reset,o=Object(a.useState)({amount:null,unitMeasure:"",description:""}),i=Object(j.a)(o,2),l=i[0],d=i[1],O=function(){s(),d({amount:"",unitMeasure:"",description:""}),e.cerrarModal()},x=function(e){console.log("cambio",e.target.value[0])," "==e.target.value[0]?(console.log("primer",e.target.value[0]),d(Object(u.a)(Object(u.a)({},l),{},Object(de.a)({},e.target.name,e.target.value.substring(1))))):d(Object(u.a)(Object(u.a)({},l),{},Object(de.a)({},e.target.name,e.target.value)))};return Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{isOpen:e.abierto,children:[Object(C.jsx)(h.a,{toggle:O,children:Object(C.jsx)("h4",{children:"Agregar Compra/Alquiler"})}),Object(C.jsx)(p.a,{children:Object(C.jsxs)("form",{onSubmit:r((function(){e.updateDetails(l),console.log("modal",l),d({amount:"",unitMeasure:"",description:""}),O()})),children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("label",{children:"Cantidad:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"amount"},c("amount",{required:"El campo es requerido",min:{value:1,message:"Este campo debe tener valores num\xe9ricos entre 1 y 9999"},max:{value:9999,message:"Este campo debe tener valores num\xe9ricos entre 1 y 9999"}})),{},{value:l.amount,type:"number",className:"form-control",onChange:function(e){console.log("number",e.target.value),d(Object(u.a)(Object(u.a)({},l),{},Object(de.a)({},e.target.name,e.target.value)))}})),n.amount&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.amount.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("label",{children:"Unidad:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"unitMeasure"},c("unitMeasure",{required:"El campo es requerido",minLength:{value:1,message:"Este campo debe tener entre 1 y 20 caracteres"},maxLength:{value:20,message:"Este campo debe tener entre 1 y 20 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa a-zA-Z/ ]+$/,message:"Este campo no permite caracteres especiales excepto el '/'"}})),{},{value:l.unitMeasure,type:"text",className:"form-control",onChange:x})),n.unitMeasure&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.unitMeasure.message})]})]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",children:[Object(C.jsx)("label",{children:"Descripcion:"}),Object(C.jsx)("textarea",Object(u.a)(Object(u.a)({name:"description"},c("description",{required:"El campo es requerido",minLength:{value:5,message:"Este campo debe tener entre 5 y 120 caracteres"},maxLength:{value:120,message:"Este campo debe tener entre 5 y 120 caracteres"}})),{},{value:l.description,className:"form-control",onChange:x})),n.description&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.description.message})]})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:O,id:"btnV",children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary",id:"btnV",children:"Guardar"})]})})]})})]})})};var mc=function(){var e=Object(R.h)().idUS,t=Object(R.h)().nameUS,c=Object(b.a)(),n=c.register,r=c.formState.errors,s=c.handleSubmit,o=c.reset,i=Object(a.useState)({nameUnidadGasto:"",aplicantName:"",requestDate:"",amount:null,spending_units_id:""}),m=Object(j.a)(i,2),h=m[0],p=m[1],O=Object(a.useState)([]),x=Object(j.a)(O,2),f=x[0],v=x[1],N=Object(a.useState)(new Date),w=Object(j.a)(N,2),y=w[0],S=(w[1],Object(a.useState)([])),k=Object(j.a)(S,2),z=k[0],E=k[1],A=Object(a.useState)(!1),U=Object(j.a)(A,2),q=U[0],I=U[1],D=Object(a.useState)(!1),F=Object(j.a)(D,2),M=F[0],_=F[1];Object(a.useEffect)((function(){var c=JSON.parse(window.localStorage.getItem("userDetails"));(function(){var a=Object(d.a)(l.a.mark((function a(){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W(c.user.id);case 3:n=a.sent,console.log("esto es el response",n),p(Object(u.a)(Object(u.a)({},h),{},{nameUnidadGasto:t,aplicantName:c.user.name+" "+c.user.lastName,requestDate:y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),spending_units_id:e})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[]);var L=Object(a.useState)(null),B=Object(j.a)(L,2),G=B[0],T=B[1],V=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a,n,r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new FormData,null==G){e.next=10;break}for(a=0;a<G.length;a++)n="file"+a,c.append(n,G[a],G[a].name);return r=window.localStorage.getItem("tokenContizacion"),s={headers:{Authorization:"Bearer ".concat(r)}},console.log("archivo que se manda",c),e.next=8,g.a.post("https://127.0.0.1"+t,c,s);case 8:o=e.sent,console.log("respuesta ",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length>0)||q){e.next=18;break}return e.prev=1,t=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),c={nameUnidadGasto:h.nameUnidadGasto,aplicantName:h.aplicantName,requestDate:t,details:f,amount:h.amount,spending_units_id:h.spending_units_id},e.next=6,P(c);case 6:return a=e.sent,console.log(c),console.log("resultado ",a),e.next=11,V(a.success);case 11:o(),J(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();function J(){window.history.back()}Object(R.g)();var Z=f.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.amount}),Object(C.jsx)("td",{children:e.unitMeasure}),Object(C.jsx)("td",{children:e.description})]},t)}));return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Nueva solicitud"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"col",id:"registro",children:[Object(C.jsx)("div",{className:"form-register",id:"formRegistro",children:Object(C.jsxs)("form",{onSubmit:s($),children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Unidad de gasto:"}),Object(C.jsx)("div",{className:"form-row",id:"inputs",children:Object(C.jsx)("label",{className:"col-form-label",children:h.nameUnidadGasto})})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Nombre del solicitante:"}),Object(C.jsx)("div",{className:"form-row",id:"inputs",children:Object(C.jsx)("label",{className:"col-form-label",children:h.aplicantName})})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Fecha de solicitud:"}),Object(C.jsx)("div",{className:"form-row",id:"inputs",children:Object(C.jsx)("label",{className:"col-form-label",children:h.requestDate})})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-col",children:Object(C.jsx)("label",{children:"Detalle de solicitud"})}),Object(C.jsx)("div",{className:"form-group col",align:"end",children:Object(C.jsxs)("button",{className:"btn btn-success",type:"button",onClick:function(){_(!0)},children:[Object(C.jsx)(ue.a,{className:"mb-1"})," Agregar"]})})]}),Object(C.jsx)("div",{className:"form-row",id:"list",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Cantidad"}),Object(C.jsx)("th",{scope:"col",children:"Unidad"}),Object(C.jsx)("th",{scope:"col",children:"Descripcion"})]})}),Object(C.jsx)("tbody",{children:Z})]})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("label",{children:"Monto estimado:"})}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-group col-md-6",children:Object(C.jsxs)("div",{className:"form-row",id:"inputs",children:[Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"amount"},n("amount",{required:"El campo es requerido",min:{value:1,message:"Dato invalido"}})),{},{value:h.amount,type:"number",className:"form-control",onChange:function(e){console.log("number",e.target.value),p(Object(u.a)(Object(u.a)({},h),{},Object(de.a)({},e.target.name,e.target.value)))}})),r.amount&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.amount.message})]})}),Object(C.jsx)("ol",{children:z.map((function(e){return Object(C.jsx)("li",{children:e})}))}),q&&Object(C.jsx)("label",{style:{color:"red"},children:"Solo se permite archivos pdf, docx y jpg"}),Object(C.jsxs)("div",{className:"form-group col-md-6",align:"end",children:[Object(C.jsx)("input",{name:"files",type:"file",id:"files",multiple:!0,onChange:function(e){for(var t=[],c=[],a=0;a<e.target.files.length;a++){var n=e.target.files[a].name,r=n.slice(2+(n.lastIndexOf(".")-1>>>0));t.push(n),c.push(r)}var s=!0,o=!1;c.forEach((function(e){o||("pdf"===e||"docx"===e||"jpg"===e?s=!1:(s=!0,o=!0))})),I(s),E(t),T(e.target.files)}}),Object(C.jsxs)("label",{for:"files",children:[Object(C.jsx)(zt.a,{className:"mb-1"})," Adjuntar archivo"]})]})]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",id:"btnV",onClick:J,children:" Cancelar "}),Object(C.jsx)("button",{type:"submit",className:"btn btn-info",id:"btnV",children:" Enviar "})]})})]})}),Object(C.jsx)(bc,{abierto:M,cerrarModal:function(){_(!1)},updateDetails:function(e){v([].concat(Object(je.a)(f),[e]))}})]})]})})};function hc(e){return pc.apply(this,arguments)}function pc(){return(pc=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("files/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Oc(e){return xc.apply(this,arguments)}function xc(){return(xc=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("quotation/files/detail/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function fc(e){return vc.apply(this,arguments)}function vc(){return(vc=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.get("ua/quotation/files/detail/".concat(t),a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gc(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],r=c[1];Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hc(e.id);case 2:(c=t.sent)&&r(c);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{isOpen:e.isShowModalFile,children:[Object(C.jsx)(h.a,{toggle:function(){e.closeModal()},children:Object(C.jsx)("h4",{children:"Archivos"})}),Object(C.jsx)(p.a,{children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Documento"})]})}),Object(C.jsx)("tbody",{children:n.map((function(t,c){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:c+1}),Object(C.jsx)("td",{children:Object(C.jsx)("a",{href:"/showFile/"+e.id+"/"+t,target:"_blank",children:t})})]},c+1)}))})]})})]})})}var Nc=function(){var e=Object(R.h)().id,t=Object(a.useState)(),c=Object(j.a)(t,2),n=(c[0],c[1]),r=Object(a.useState)(),s=Object(j.a)(r,2),o=s[0],i=s[1],u=Object(a.useState)(),b=Object(j.a)(u,2),m=b[0],h=b[1],p=Object(a.useState)(),O=Object(j.a)(p,2),x=O[0],f=O[1],v=Object(a.useState)(""),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)(),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)([]),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)(!1),D=Object(j.a)(I,2),F=D[0],M=D[1],_=Object(a.useState)(!1),L=Object(j.a)(_,2),B=L[0],G=L[1],P=Object(a.useState)(!0),T=Object(j.a)(P,2),V=T[0],$=T[1],Z=Object(a.useState)(0),Q=Object(j.a)(Z,2),W=Q[0],H=Q[1],K=Object(a.useState)(!1),X=Object(j.a)(K,2),ee=X[0],te=X[1],ce=(Object(R.g)(),function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(k>W)){t.next=4;break}alert("Monto excedido"),t.next=9;break;case 4:return c={status:"Aceptado"},t.next=7,Y(e,c);case 7:t.sent,window.history.back();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),ae=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={status:"Rechazado"},t.next=3,Y(e,c);case 3:t.sent,window.history.back();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ne=U.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.amount}),Object(C.jsx)("td",{children:e.unitMeasure}),Object(C.jsx)("td",{children:e.description})]},t)}));return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return c=t.sent,n(a=c),i(a.nameUnidadGasto),h(a.aplicantName),f(a.requestDate),q(a.details),z(a.amount),H(a.limite.monto),w(a.message),t.next=14,hc(e);case 14:t.sent&&$(!1),"Pendiente"==a.status?G(!0):G(!1);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-6",children:Object(C.jsxs)("h1",{children:["Solicitud # ",e]})}),Object(C.jsx)("div",{className:"col-md-6",align:"right",children:Object(C.jsx)("button",{type:"button",className:"close",onClick:function(){window.history.back()},children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"col",id:"registro",children:Object(C.jsx)("div",{className:"form-register",children:Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-row",id:"formData",children:[Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Unidad de gasto:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:o})})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Nombre del Solicitante:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:m})})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Fecha de Solicitud:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:x})})]})]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"form-group col-md",children:Object(C.jsx)("label",{children:"Detalle de solicitud"})})}),Object(C.jsx)("div",{className:"form-row",id:"lista",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Cantidad"}),Object(C.jsx)("th",{scope:"col",children:"Unidad"}),Object(C.jsx)("th",{scope:"col",children:"Descripcion"})]})}),Object(C.jsx)("tbody",{children:ne})]})}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("label",{children:"Monto Estimado:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:k})})]}),Object(C.jsx)("div",{className:"form-group col-md-6",style:{marginTop:"33px"},children:Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:V,onClick:function(){return M(!0)},children:"Ver Archivos"})})]}),Object(C.jsx)("div",{style:{color:"red"},children:N}),N&&Object(C.jsxs)("div",{style:{color:"red"},children:["Monto tope: ",W]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{type:"button",className:"btn btn-danger",id:"btnV",disabled:!B,onClick:function(){me()({title:"\xbfEstas seguro?",text:"Para cambiar el estado de una solicitud se debera agregar un informe",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?(console.log("se debe abrir el modal"),te(!0)):console.log("no pasa nada")}))},children:" Rechazar solicitud "}),Object(C.jsx)("button",{type:"button",className:"btn btn-success",id:"btnV",disabled:!B,onClick:ce,children:" Aceptar Solicitud "})]})})]})})}),Object(C.jsx)(gc,{isShowModalFile:F,closeModal:function(){M(!1)},id:e}),Object(C.jsx)(ke,{id:e,abierto:ee,cerrarModal:function(){te(!1)},report:null,rejectRequest:ae})]})})};function wc(){return yc.apply(this,arguments)}function yc(){return(yc=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/business",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Sc(e){return kc.apply(this,arguments)}function kc(){return(kc=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("tokenContizacion"),a={headers:{Authorization:"Bearer ".concat(c)}},e.prev=2,e.next=5,N.post("business/new",t,a);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var Cc=function(e){var t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=t.formState.errors,s=t.reset,o=Object(a.useState)({nameEmpresa:"",nit:"",email:"",phone:"",direction:"",rubro:""}),i=Object(j.a)(o,2),O=i[0],x=i[1],f=function(){var t=Object(d.a)(l.a.mark((function t(c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sc(O);case 2:(a=t.sent).message&&me()({title:a.message,button:"Aceptar"}),e.updateEmpresas(),g();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){" "==e.target.value[0]?x(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value.substring(1)))):x(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value)))},g=function(){e.cerrarModal(),x({nameEmpresa:"",nit:"",email:"",phone:"",direction:"",rubro:""}),s()};return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abierto,children:Object(C.jsxs)("form",{onSubmit:n(f),children:[Object(C.jsx)(h.a,{toggle:g,children:"Registrar Empresa"}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h5",{children:"Nombre Empresa:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"nameEmpresa"},c("nameEmpresa",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 50 caracteres"},maxLength:{value:50,message:"Este campo debe tener entre 3 y 50 caracteres"}})),{},{value:O.nameEmpresa,type:"text",className:"form-control",onChange:v})),r.nameEmpresa&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.nameEmpresa.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h5",{children:"NIT:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"nit"},c("nit",{required:"Campo requerido",pattern:{value:/^[0-9]+$/,message:"Este campo solo acepta valores num\xe9ricos"}})),{},{value:O.nit,type:"text",className:"form-control",onChange:v})),r.nit&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.nit.message})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h5",{children:"Correo:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"email"},c("email",{required:"Campo requerido",validate:{value:function(e){return/@/.test(t=e)?null!=/^[a-z0-9_-]+(?:\.[a-z0-9_-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.exec(t)||"Este campo solo acepta caracteres alfanum\xe9ricos y especiales como el @ (arroba) .(punto) - (gui\xf3n) y _ (gui\xf3n bajo)":"Este campo debe tener el car\xe1cter @";var t}},minLength:{value:11,message:"Este campo debe tener m\xednimo 11 caracteres"}})),{},{value:O.email,type:"text",className:"form-control",onChange:v})),r.email&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.email.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h5",{children:"Telefono:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"phone"},c("phone",{required:"Campo requerido",minLength:{value:7,message:"Este campo debe tener entre 7 y 8 n\xfameros"},maxLength:{value:8,message:"Este campo debe tener entre 7 y 8 n\xfameros"},pattern:{value:/^[0-9]+$/,message:"Este campo solo acepta valores num\xe9ricos"}})),{},{value:O.phone,type:"text",className:"form-control",onChange:v})),r.phone&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.phone.message})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h5",{children:"Direcci\xf3n:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"direction"},c("direction",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 60 caracteres"},maxLength:{value:60,message:"Este campo debe tener entre 3 y 60 caracteres"}})),{},{value:O.direction,type:"text",className:"form-control",onChange:v})),r.direction&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.direction.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("h5",{children:"Rubro:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({name:"rubro"},c("rubro",{required:"Campo requerido",minLength:{value:5,message:"Este campo debe tener entre 5 y 30 caracteres"},maxLength:{value:30,message:"Este campo debe tener entre 5 y 30 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa a-zA-Z ]+$/,message:"Este campo solo acepta caracteres alfab\xe9ticos"}})),{},{value:O.rubro,type:"text",className:"form-control",onChange:v})),r.rubro&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.rubro.message})]})]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:g,id:"btnV",children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary",id:"btnV",children:"Guardar"})]})})]})]})})})};c(135);var zc=function(){var e=Object(b.a)().register,t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),o=Object(j.a)(s,2),i=o[0],m=o[1],h=Object(a.useState)([]),p=Object(j.a)(h,2),O=p[0],x=p[1],v=Object(a.useState)(!1),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)(!1),S=Object(j.a)(y,2),k=S[0],z=S[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wc();case 3:t=e.sent,r(t.business),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){x(n.filter((function(e){return e.rubro.toLowerCase().includes(i.toLowerCase())})))}),[i,n]),Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Empresas"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},e("rubro",{required:!0})),{},{className:"form-control",placeholder:"Ingrese rubro","aria-label":"Search",type:"search",id:"search",onChange:function(e){return m(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)(f.a,{color:"success",onClick:function(){w(!0)},children:[Object(C.jsx)(ue.a,{className:"mr-1"})," Agregar Empresa"]})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Empresa"}),Object(C.jsx)("th",{scope:"col",children:"NIT"}),Object(C.jsx)("th",{scope:"col",children:"Direcci\xf3n"}),Object(C.jsx)("th",{scope:"col",children:"Telefono"}),Object(C.jsx)("th",{scope:"col",children:"Correo"}),Object(C.jsx)("th",{scope:"col",children:"Rubro"})]})}),Object(C.jsx)("tbody",{children:O.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.nameEmpresa}),Object(C.jsx)("td",{children:e.nit}),Object(C.jsx)("td",{children:e.direction}),Object(C.jsx)("td",{children:e.phone}),Object(C.jsx)("td",{children:e.email}),Object(C.jsx)("td",{children:e.rubro})]},e.id)}))})]})}),Object(C.jsx)(Cc,{abierto:N,cerrarModal:function(){w(!1)},updateEmpresas:function(){z(!k)}}),Object(C.jsx)("br",{})]})},Ec=c(24),Ac=c(304);c(277);function Uc(){return qc.apply(this,arguments)}function qc(){return(qc=Object(d.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("tokenContizacion"),c={headers:{Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,N.get("/permissions",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var Ic=function(e){var t=Object(b.a)(),c=t.register,n=t.formState.errors,r=t.handleSubmit,s=t.reset,o=Object(a.useState)({nameRol:"",description:"",permissions:[]}),i=Object(j.a)(o,2),O=i[0],f=i[1],v=Object(a.useState)([]),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)([]),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)(""),A=Object(j.a)(E,2),U=(A[0],A[1]),q=Object(a.useState)([{id:1,typeUnit:"Unidad Administrativa"},{id:2,typeUnit:"Unidad de Gasto"}]),I=Object(j.a)(q,2),R=(I[0],I[1],[]);Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uc();case 3:t=e.sent,w(t.permissions),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var D=function(e){" "==e.target.value[0]?f(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value.substring(1)))):f(Object(u.a)(Object(u.a)({},O),{},Object(de.a)({},e.target.name,e.target.value)))},F=function(e){var t=[];t=k.includes(e.target.value)?k.filter((function(t){return t!==e.target.value})):k.concat(e.target.value);var c,a=Object(Ec.a)(t);try{for(a.s();!(c=a.n()).done;){var n=c.value;R.push(parseInt(n))}}catch(r){a.e(r)}finally{a.f()}z(t),O.permissions=R},M=function(){e.updateRols(),e.CloseModalRR(),U(""),z(""),f({nameRol:"",description:"",permissions:[]}),s()},_=function(e,t){me()({text:e,icon:t,button:"Ok"})},L=function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(O);case 2:"Registro exitoso"==(c=e.sent).message?(_(c.message,"success"),M()):_(c.message,"warning");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abierto,children:Object(C.jsxs)("form",{onSubmit:r(L),children:[Object(C.jsx)(h.a,{toggle:M,children:"Agregar Nuevo Rol"}),Object(C.jsx)(p.a,{children:Object(C.jsxs)("div",{className:"form-rom",children:[Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Nombre de Rol de Usuario:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({type:"text",name:"nameRol"},c("nameRol",{required:"Campo requerido",minLength:{value:3,message:"Este campo debe tener entre 3 y 50 caracteres"},maxLength:{value:50,message:"Este campo debe tener entre 3 y 50 caracteres"},pattern:{value:/^[\xd1\xf1\xed\xf3\xe1\xe9\xfa. a-zA-Z ]+$/,message:"El campo solo permite caracteres alfabeticos"}})),{},{value:O.nameRol,onChange:D,className:"form-control"})),n.nameRol&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.nameRol.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Descripci\xf3n de Rol:"}),Object(C.jsx)("textarea",Object(u.a)(Object(u.a)({type:"text",name:"description"},c("description",{required:"Campo requerido",minLength:{value:15,message:"Este campo debe tener entre 15 y 200 caracteres"},maxLength:{value:200,message:"Este campo debe tener entre 15 y 200 caracteres"}})),{},{s:!0,value:O.description,onChange:D,className:"form-control"})),n.description&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.description.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Asignar Permisos:"}),Object(C.jsx)("div",{class:"modal-table",children:Object(C.jsxs)(Ac.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{}),Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Permiso"})]})}),Object(C.jsx)("tbody",{children:N.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({type:"checkbox",name:"permissions"},c("permissions",{required:"Seleccione al menos 1 permiso"})),{},{value:e.id,onChange:F}))}),Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.namePermission})]})}))})]})}),n.permissions&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.permissions.message})]})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:M,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})},Rc=function(e){var t=e.initialState,c=e.id,n=e.value,r=e.onChange,s=Object(a.useState)(t),o=Object(j.a)(s,2),i=o[0],l=o[1];return Object(C.jsx)("input",{type:"checkbox",onClick:function(e){return function(e){l(e),r(c,n,e)}(e.target.checked)},checked:i})};var Dc=function(e){var t=Object(b.a)(),c=t.register,n=t.handleSubmit,r=t.formState.errors,s=t.reset,o=Object(a.useState)(!1),i=Object(j.a)(o,2),O=(i[0],i[1],Object(a.useState)({nameRol:"",description:"",permissions:[]})),f=Object(j.a)(O,2),v=f[0],g=f[1],N=Object(a.useState)(!1),w=Object(j.a)(N,2),y=(w[0],w[1],Object(a.useState)([])),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)(""),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)(""),R=Object(j.a)(I,2),D=(R[0],R[1]),F=Object(a.useState)([]),M=Object(j.a)(F,2),_=M[0],L=M[1],B=Object(a.useRef)(e.rol.permissions),G=[],P=function(){e.cerrarEditor(),e.updateRols(),L([]),q(""),D(""),g(""),s()},T=function(e,t){me()({text:e,icon:t,button:"Ok"})};function V(e){var t=B.current.concat(e),c=[],a=[];return t.forEach((function(e,n){(a=Object.assign([],t)).splice(n,1),-1!=a.indexOf(e)&&-1==c.indexOf(e)&&c.push(e)})),c.length>0&&c.forEach((function(e){return t=t.filter((function(t){return t!==e}))})),t}var $=function(e,t,c){var a=[];a=_.includes(t)?_.filter((function(e){return e!=t})):_.concat(t);var n,r=Object(Ec.a)(a);try{for(r.s();!(n=r.n()).done;){var s=n.value;G.push(parseInt(s))}}catch(o){r.e(o)}finally{r.f()}L(G)},J=function(){var t=Object(d.a)(l.a.mark((function t(c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{_.length>0?0==(a=V(_)).length?q("No puede dejar un rol sin permisos"):(at({idRol:e.rol.id,idPermission:a,description:c.description}),T("Se actualizo el rol ".concat(e.rol.nameRol," exitosamente"),"success"),P()):0==_.length&v.description!=e.rol.description?(at({idRol:e.rol.id,idPermission:e.rol.permissions,description:c.description}),T("Se actualizo el rol ".concat(e.rol.nameRol," exitosamente"),"success"),P()):T("No realizo cambios","warning")}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uc();case 2:c=t.sent,z(c.permissions),g(e.rol);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.abrirEditor]),Object(a.useEffect)((function(){B.current=e.rol.permissions}),[_]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abrirEditor,style:{top:"5%",transfrom:"translate(-50%, -50%)"},children:Object(C.jsxs)("form",{onSubmit:n(J),children:[Object(C.jsx)(h.a,{toggle:P,children:"Editar Rol"}),Object(C.jsx)(p.a,{children:Object(C.jsxs)("div",{className:"form-rom",children:[Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Nombre de Rol:"}),Object(C.jsx)("input",{name:"nameRol",className:"form-control",type:"text",value:e.rol.nameRol,disabled:!0})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Descripcion:"}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({className:"form-control",type:"text",value:v.description,name:"description"},c("description",{required:"Campo Requerido"})),{},{onChange:function(e){g({description:e.target.value})}})),r.description&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:r.description.message})]}),Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("h6",{children:"Permisos:"}),Object(C.jsx)("div",{class:"modal-table",children:Object(C.jsxs)(Ac.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{}),Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Permiso"})]})}),Object(C.jsx)("tbody",{children:k.map((function(t,c){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:Object(C.jsx)(Rc,{initialState:e.rol.permissions.includes(t.id),id:c+1,value:t.id,onChange:$})}),Object(C.jsx)("th",{scope:"row",children:c+1}),Object(C.jsx)("td",{children:t.namePermission})]})}))})]})}),Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:U})]})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:P,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})};var Fc=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(a.useState)(!1)),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)([]),i=Object(j.a)(o,2),m=i[0],h=i[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=O[0],v=O[1],g=Object(a.useState)({nameRol:"",description:"",permissions:[]}),N=Object(j.a)(g,2),w=N[0],y=N[1],S=Object(a.useState)(""),k=Object(j.a)(S,2),z=k[0],E=k[1],A=Object(a.useState)(!1),U=Object(j.a)(A,2),q=U[0],I=U[1],R=Object(a.useState)(""),D=Object(j.a)(R,2),F=D[0],M=D[1],_=Object(a.useState)([]),L=Object(j.a)(_,2),B=L[0],G=L[1],P=function(){y({nameRol:"",description:"",permissions:[]}),v(!x)};return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He();case 3:t=e.sent,h(t.roles),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[h,x]),Object(a.useEffect)((function(){G(m.filter((function(e){return e.nameRol.toLowerCase().includes(F.toLowerCase())})))}),[F,m]),Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uc();case 3:t=e.sent,E(t.permissions),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Roles"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("rol",{required:!0})),{},{className:"form-control",placeholder:"Ingrese rol","aria-label":"Search",type:"search",id:"search",onChange:function(e){return M(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)(f.a,{color:"success",onClick:function(){s(!0)},children:[Object(C.jsx)(ue.a,{className:"mr-1"}),"Nuevo"]})})]}),Object(C.jsx)(Ic,{abierto:r,CloseModalRR:function(){s(!1)},updateRols:P}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Rol"}),Object(C.jsx)("th",{scope:"col",children:"Descripcion"}),Object(C.jsx)("th",{scope:"col",children:"Editar"})]})}),Object(C.jsx)("tbody",{children:B.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.nameRol}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn  btn-warning",onClick:function(){I(!0),y(e)},style:{color:"white",backgroundColor:"orange"},children:Object(C.jsx)(Re.a,{})})})]},t)}))})]})})})]}),Object(C.jsx)(Dc,{abrirEditor:q,rol:w,permissions:z,cerrarEditor:function(){I(!1),P()},updateRols:P})]})};var Mc=function(){var e=Object(b.a)(),t=e.register,c=(e.handleSubmit,e.watch,e.formState.errors,Object(R.h)().idUA),n=Object(R.h)().idUS,r=Object(a.useState)(!1),s=Object(j.a)(r,2),o=s[0],i=(s[1],Object(a.useState)([])),m=Object(j.a)(i,2),h=m[0],p=m[1],O=Object(a.useState)(""),x=Object(j.a)(O,2),f=x[0],v=x[1],g=Object(a.useState)([]),N=Object(j.a)(g,2),w=N[0],y=N[1],S=Object(R.g)();return Object(a.useEffect)((function(){JSON.parse(window.localStorage.getItem("userDetails"));function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("null"!==n){e.next=6;break}return e.next=3,Le(c);case 3:t=e.sent,p(t.users),console.log("Personal",h,n,c);case 6:if("null"!==c){e.next=12;break}return e.next=9,Te(n);case 9:a=e.sent,p(a.users),console.log("Personal",h,n,c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p,o]),Object(a.useEffect)((function(){y(h.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())})))}),[f,h]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Personal"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-6",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({},t("personal",{required:!0})),{},{className:"form-control",placeholder:"Ingrese nombre","aria-label":"Search",type:"search",id:"search",onChange:function(e){return v(e.target.value)}}))}),Object(C.jsx)("div",{className:"col-6",align:"right",children:Object(C.jsxs)("button",{type:"button",className:"btn btn-success my-2 my-sm-0",onClick:function(){S.push("/seleccionPersonal/".concat(c,"/").concat(n))},children:[Object(C.jsx)(ue.a,{className:"mb-1"}),"Agregar"]})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Nombre"}),Object(C.jsx)("th",{scope:"col",children:"CI"}),Object(C.jsx)("th",{scope:"col",children:"Telefono"}),Object(C.jsx)("th",{scope:"col",children:"Rol"})]})}),Object(C.jsx)("tbody",{children:w.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:t+1}),Object(C.jsxs)("td",{children:[e.name," ",e.lastName]}),Object(C.jsx)("td",{children:e.ci}),Object(C.jsx)("td",{children:e.phone}),Object(C.jsx)("td",{children:e.roles})]},e.id)}))})]})})})]})})},_c=c(64),Lc=c.n(_c);var Bc=function(){var e=Object(R.h)().id,t=Object(R.h)().fl,c="http://127.0.0.1:8000/api/showFile/"+e+"/"+t,n=Object(a.useState)(""),r=Object(j.a)(n,2),s=r[0],o=r[1];Object(a.useEffect)((function(){var e=i(t);o(e)}),[]);var i=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))};return Object(C.jsx)("div",{style:{width:"100%",height:"500px",textAlign:"center",backgroundColor:"grey"},children:Object(C.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(C.jsx)(Lc.a,{fileType:s,filePath:c,onError:function(e){console.log(e,"error in file-viewer")},style:{margin:"10px"}})})})};var Gc=function(e){var t=Object(b.a)(),c=t.register,n=t.formState.errors,r=t.handleSubmit,s=t.reset,o=Object(a.useState)([]),i=Object(j.a)(o,2),O=i[0],f=i[1],v=Object(a.useState)({idUser:"",idUnit:"",roles:[]}),g=Object(j.a)(v,2),N=g[0],w=(g[1],Object(a.useState)([])),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)(""),E=Object(j.a)(z,2),A=(E[0],E[1],Object(a.useState)("")),U=Object(j.a)(A,2),q=(U[0],U[1]),I=[],R=function(){D(),e.cerrarModal(),e.updateUsers()},D=function(){q(""),f(""),s()},F=function(e,t){me()({text:e,icon:t,button:"Ok"})},M=function(e){var t=[];t=O.includes(e.target.value)?O.filter((function(t){return t!==e.target.value})):O.concat(e.target.value);var c,a=Object(Ec.a)(t);try{for(a.s();!(c=a.n()).done;){var n=c.value;I.push(parseInt(n))}}catch(r){a.e(r)}finally{a.f()}f(t),console.log(I),N.roles=I};Object(a.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,He();case 3:c=t.sent,k(c.roles),N.idUser=e.user.id,console.log(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var _=function(){var t=Object(d.a)(l.a.mark((function t(c){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"null"!==e.idUS){t.next=7;break}return console.log("este user se registra:",e.user.id,"en unidad",e.idUA,"con el rol",N.roles),t.next=5,Tt({idUser:e.user.id,idUnit:e.idUA,idRol:N.roles});case 5:a=t.sent,F(a.message,"success");case 7:if("null"!==e.idUA){t.next=12;break}return t.next=10,ec({idUser:e.user.id,idUnit:e.idUS,idRol:N.roles});case 10:n=t.sent,F(n.message,"success");case 12:R(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{isOpen:e.abierto,children:Object(C.jsxs)("form",{onSubmit:r(_),children:[Object(C.jsxs)(h.a,{toggle:R,children:[e.user.name," ",e.user.lastName]}),Object(C.jsx)(p.a,{children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col-md-12",children:[Object(C.jsx)("label",{children:"Seleccione el/los rol(es) que desea que cumpla en su unidad"}),Object(C.jsx)("div",{class:"table table-hover",children:Object(C.jsxs)(Ac.a,{bordered:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{}),Object(C.jsx)("th",{children:"Rol"}),Object(C.jsx)("th",{children:"Descripcion"})]})}),Object(C.jsx)("tbody",{children:S.map((function(e,t){if(1!=e.id&2!=e.id&3!=e.id)return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:Object(C.jsx)("input",Object(u.a)(Object(u.a)({type:"checkbox",name:"roles"},c("roles",{required:"No selecciono ningun rol"})),{},{value:e.id,onChange:M}))}),Object(C.jsx)("td",{children:e.nameRol}),Object(C.jsx)("td",{children:e.description})]})}))})]})}),n.roles&&Object(C.jsx)("span",{className:"text-danger text-small d-block mb-2",children:n.roles.message})]})})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:R,children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Guardar"})]})]})})})};c(278);var Pc=function(){var e=Object(R.h)().idUS,t=Object(R.h)().idUA,c=Object(b.a)(),n=(c.register,c.formState.errors,c.handleSubmit),r=(c.reset,Object(a.useState)([])),s=Object(j.a)(r,2),o=s[0],i=s[1],u=Object(a.useState)([{id:"",name:"",lastName:""}]),m=Object(j.a)(u,2),p=m[0],O=m[1],f=Object(a.useState)({id:"",nameRol:"",description:""}),v=Object(j.a)(f,2),g=(v[0],v[1],Object(a.useState)(!1)),N=Object(j.a)(g,2),w=N[0],y=N[1],S=Object(a.useState)(!1),k=Object(j.a)(S,2),z=k[0],E=k[1];function A(){window.history.back()}JSON.parse(window.localStorage.getItem("userDetails"));var U=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){try{(function(){var c=Object(d.a)(l.a.mark((function c(){var a,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if("null"!==e){c.next=5;break}return c.next=3,Ge(t);case 3:a=c.sent,i(a.users);case 5:if("null"!==t){c.next=10;break}return c.next=8,$e(e);case 8:n=c.sent,i(n.users);case 10:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}catch(c){console.log(c)}}),[i,w]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"container",align:"left",children:Object(C.jsxs)("form",{onSubmit:n(U),children:[Object(C.jsx)(h.a,{toggle:A,children:"Seleccion de Personal"}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"col-md-12",children:Object(C.jsxs)("div",{class:"table table-hover",children:[Object(C.jsx)("br",{}),Object(C.jsx)("label",{children:"Estos usuarios no estan en su unidad"}),Object(C.jsx)("h5",{id:"titulo-tabla",children:"Usuarios"}),Object(C.jsxs)("table",{id:"tablaC",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{width:"5%",scope:"col",children:"#"}),Object(C.jsx)("th",{width:"30%",scope:"col",children:"Nombre"}),Object(C.jsx)("th",{width:"20%",scope:"col",children:"Telefono"}),Object(C.jsx)("th",{width:"30%",scope:"col",children:"Seleccionar Rol"})]})}),Object(C.jsx)("tbody",{children:o.map((function(e,t){if(1!=e.id)return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{scope:"row",children:t}),Object(C.jsxs)("td",{children:[e.name," ",e.lastName]}),Object(C.jsx)("td",{children:e.phone}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{type:"button",class:"btn btn-info",onClick:function(){E(!0),O(e)},children:"Seleccionar Rol"})})]})}))})]})]})})}),Object(C.jsx)(x.a,{children:Object(C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",onClick:A,children:"Cancelar"})})]})}),Object(C.jsx)(Gc,{abierto:z,user:p,idUS:e,idUA:t,cerrarModal:function(){E(!1)},updateUsers:function(){y(!w)}})]})},Tc=c(305);var Vc=function(e){var t=Object(R.h)().id,c=Object(a.useState)([]),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!0),i=Object(j.a)(o,2),u=i[0],b=i[1],m=Object(a.useState)(!1),h=Object(j.a)(m,2),p=h[0],O=h[1],x=Object(a.useState)({}),f=Object(j.a)(x,2),v=f[0],g=f[1],N=Object(R.g)();return Object(a.useEffect)((function(){var c=e.location.data;function a(){return(a=Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(c),"Finalizado"===c.statusResponse&&O(!0),e.next=5,ee(t);case 5:a=e.sent,s(a.Cotizaciones),a.Cotizaciones.length>2&&b(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",style:{marginBottom:"100px"},children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:"Cotizaciones"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"col",style:{textAlign:"end"},children:[Object(C.jsx)("button",{className:"btn btn-secondary",onClick:function(){N.push({pathname:"/cuadro/".concat(t),data:v})},disabled:u,children:"Realizar Comparaci\xf3n"}),Object(C.jsxs)("button",{onClick:function(){p?me()({title:"Finalizado",text:"Ya finalizo la cotizaci\xf3n de esta solicitud",icon:"success",button:"Entendido"}):(N.push(),N.push({pathname:"/respuesta/cotizacion/ua/"+t,data:v}))},className:"btn btn-success",style:{marginLeft:"20px"},children:[Object(C.jsx)(ue.a,{className:"mb-1"})," Agregar"]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:" "}),Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Empresa"}),Object(C.jsx)("th",{scope:"col",children:"Items Cotizados"}),Object(C.jsx)("th",{scope:"col",children:"Total en Bs"}),Object(C.jsx)("th",{scope:"col",children:"Ver Cotizaci\xf3n"})]})}),Object(C.jsx)("tbody",{children:r.map((function(e,c){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:c+1}),Object(C.jsx)("td",{children:c+1}),Object(C.jsx)("td",{children:e.Empresa}),Object(C.jsx)("td",{children:e.ItemsCotizados}),Object(C.jsx)("td",{children:e.TotalEnBs}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){N.push({pathname:"/verCotizacion/".concat(t,"/").concat(e.idCotizacion),data:v})},children:Object(C.jsx)(Tc.a,{})})})]},e.idCotizacion)}))})]})})})]})})},$c=c(306);var Jc=function(e){var t=Object(R.h)().idRe,c=Object(R.h)().idCo,n=Object(R.g)(),r=Object(a.useState)([]),s=Object(j.a)(r,2),o=s[0],i=s[1],u=Object(a.useState)({offerValidity:"",answerDate:"",deliveryTime:"",paymentMethod:"",observation:""}),b=Object(j.a)(u,2),m=b[0],h=b[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=(O[0],O[1],Object(a.useState)(!1)),f=Object(j.a)(x,2),v=f[0],g=f[1],N=Object(a.useState)(""),w=Object(j.a)(N,2),y=w[0],S=w[1],k=Object(a.useState)(""),z=Object(j.a)(k,2),E=(z[0],z[1],Object(a.useState)({})),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)([]),D=Object(j.a)(I,2),F=D[0],M=D[1];return Object(a.useEffect)((function(){var a=e.location.data;function n(){return(n=Object(d.a)(l.a.mark((function e(){var n,r,s,o,d,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(a),e.next=4,K(t,c);case 4:n=e.sent,h(n.Cotizacion[0]),r=[],s=[],o=1;case 9:if(!(o<n.Cotizacion.length)){e.next=18;break}return r.push(n.Cotizacion[o][0]),e.next=13,Oc(n.Cotizacion[o][0].idDetail);case 13:d=e.sent,s.push(d[0]);case 15:o++,e.next=9;break;case 18:return e.next=20,fc(c);case 20:(j=e.sent).length>0&&(g(!0),S(j[0])),i(r),M(s),console.log(s),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h1",{children:" Cotizaci\xf3n"}),Object(C.jsx)("br",{}),Object(C.jsx)("h3",{children:"Datos de Cotizaci\xf3n"}),Object(C.jsx)("div",{className:"col",children:Object(C.jsx)("div",{className:"form-register",children:Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("h5",{children:"Validez de la oferta"}),Object(C.jsx)("input",{className:"form-control",value:m.offerValidity})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("h5",{children:"Fecha de Cotizacion"}),Object(C.jsx)("input",{className:"form-control",value:m.answerDate})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("h5",{children:"Tiempo de Entrega"}),Object(C.jsx)("input",{className:"form-control",value:m.deliveryTime})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("h5",{children:"Forma de Pago"}),Object(C.jsx)("input",{className:"form-control",value:m.paymentMethod})]})]})]})})}),Object(C.jsx)("h3",{children:"Detalle por item de Cotizaci\xf3n"}),Object(C.jsx)("div",{className:"col",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{width:"3%",scope:"col",children:"#"}),Object(C.jsx)("th",{width:"8%",scope:"col",children:"Cant."}),Object(C.jsx)("th",{width:"8%",scope:"col",children:"Unidad"}),Object(C.jsx)("th",{width:"22%",scope:"col",children:"Detalle"}),Object(C.jsx)("th",{width:"11%",scope:"col",children:"Precio Unit."}),Object(C.jsx)("th",{width:"11%",scope:"col",children:"Precio total"}),Object(C.jsx)("th",{width:"23%",scope:"col",children:"Oferta"}),Object(C.jsx)("th",{width:"16%",scope:"col",children:"Archivo"})]})}),Object(C.jsx)("tbody",{children:o.map((function(e,t){if(e)return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.amount}),Object(C.jsx)("td",{children:e.unitMeasure}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.unitPrice}),Object(C.jsx)("td",{children:e.totalPrice}),Object(C.jsxs)("td",{children:["Marca: ",e.brand," ",Object(C.jsx)("br",{}),"Modelo: ",e.model,Object(C.jsx)("br",{}),"Industria: ",e.industry,Object(C.jsx)("br",{})," Tiempo de Garantia: ",e.warrantyTime]}),Object(C.jsx)("td",{children:F[t]?Object(C.jsxs)("a",{href:"/showFileQuotitationDetail/".concat(1,"/",F[t]),className:"btn btn-secondary sm",target:"_blank",children:[Object(C.jsx)($c.a,{className:"mb-1"}),"Ver archivo"]}):Object(C.jsxs)("button",{className:"btn btn-secondary sm",disabled:!0,children:[Object(C.jsx)($c.a,{className:"mb-1"}),"Ver archivo"]})})]},e.id)}))})]})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"col-6",style:{marginLeft:"5%",marginRight:"5%"},children:[Object(C.jsx)("h4",{children:"Observaciones"}),Object(C.jsx)("textarea",{type:"text",className:"form-control",value:m.observation})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"col-6",style:{marginLeft:"5%",marginRight:"5%"},children:v&&Object(C.jsxs)("a",{href:"/showFileQuotitationDetail/".concat(2,"/",y),className:"btn btn-secondary sm",target:"_blank",children:[Object(C.jsx)($c.a,{className:"mb-1"})," Ver archivo"]})})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"form-group col",id:"toolbar",children:Object(C.jsx)("button",{className:"btn btn-secondary",id:"btnV",onClick:function(){n.push({pathname:"/cotizaciones/".concat(t),data:U})},children:"Cerrar"})})})]})})};c(279);var Zc=function(){var e=Object(R.h)().idRe,t=Object(a.useState)([{id:0,descripcion:"",amount:0,cotizaciones:[]}]),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)({}),o=Object(j.a)(s,2),i=o[0],u=o[1],b=Object(R.g)();return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce(e);case 3:return c=t.sent,u(c),t.next=7,ce(e);case 7:a=t.sent,console.log(a),r(a.comparativeChart),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-10",children:Object(C.jsx)("h1",{children:"Informe de cotizaci\xf3n"})}),Object(C.jsx)("div",{className:"col-md-2",align:"right",children:Object(C.jsx)("button",{type:"button",className:"close",onClick:function(){return b.goBack()},children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"col",children:Object(C.jsxs)("div",{className:"form-register",children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"form-group col-md-6",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("h5",{children:"Encargado: "}),Object(C.jsx)("label",{style:{fontSize:"20px"},children:i.aplicantName})]})}),Object(C.jsx)("div",{className:"form-group col-md-6",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("h5",{children:"Fecha: "}),Object(C.jsx)("label",{style:{fontSize:"20px"},children:i.dateReport})]})})]}),Object(C.jsx)("div",{className:"form-row",id:"informe",children:Object(C.jsx)("div",{dangerouslySetInnerHTML:{__html:i.description},style:{margin:"10px"}})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("h4",{children:"Cuadro comparativo de cotizaciones "})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Producto"}),Object(C.jsx)("th",{scope:"col",children:"Cantidad"}),n[0].cotizaciones.map((function(e,t){return Object(C.jsx)("th",{scope:"col",children:e.Empresa})}))]})}),Object(C.jsxs)("tbody",{children:[n.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.amount}),e.cotizaciones.map((function(e,t){return Object(C.jsx)("td",{children:e.total},t)}))]},e.id)})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row"}),Object(C.jsx)("td",{children:"Total"}),Object(C.jsx)("td",{}),n[0].cotizaciones.map((function(e,t){return function(e){var t=0;return n.forEach((function(c){null!=c.cotizaciones[e].total&&(t+=c.cotizaciones[e].total)})),Object(C.jsx)("td",{children:t})}(t)}))]})]})]})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"col",align:"right",children:Object(C.jsx)("button",{className:"btn btn-secondary",onClick:function(){return b.goBack()},children:"Cerrar"})})})]})})]})})};c(280);var Yc=function(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),o=Object(j.a)(s,2);return o[0],o[1],Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=JSON.parse(window.localStorage.getItem("userDetails")),r(t.user)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{children:"Informacion Personal"}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{class:"container ",children:Object(C.jsxs)("div",{id:"datos",children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{id:"name",className:"form-group col-md-3",children:[Object(C.jsx)("h6",{children:"Nombres:"}),Object(C.jsx)("input",{name:"nombres",className:"form-control",type:"text",value:n.name,disabled:!0})]}),Object(C.jsxs)("div",{id:"name",className:"form-group col-md-3",children:[Object(C.jsx)("h6",{children:"Apellidos:"}),Object(C.jsx)("input",{name:"apellidos",className:"form-control",type:"text",value:n.lastName,disabled:!0})]}),Object(C.jsxs)("div",{id:"name",className:"form-group col-md-3",children:[Object(C.jsx)("h6",{children:"Carnet de Identidad:"}),Object(C.jsx)("input",{name:"carnet",className:"form-control",type:"text",value:n.ci,disabled:!0})]})]}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{id:"name",className:"form-group col-md-3",children:[Object(C.jsx)("h6",{children:"Correo Electronico:"}),Object(C.jsx)("input",{name:"correo",className:"form-control",type:"text",value:n.email,disabled:!0})]}),Object(C.jsxs)("div",{id:"name",className:"form-group col-md-3",children:[Object(C.jsx)("h6",{children:"Telefono:"}),Object(C.jsx)("input",{name:"telefono",className:"form-control",type:"text",value:n.phone,disabled:!0})]}),Object(C.jsxs)("div",{id:"name",className:"form-group col-md-3",children:[Object(C.jsx)("h6",{children:"Direccion:"}),Object(C.jsx)("input",{name:"direccion",className:"form-control",type:"text",value:n.direction,disabled:!0})]})]})]})})]})},Qc=(c(281),function(e){var t,c,n,r,s,o,i,l,d=Object(b.a)(),O=d.register,v=d.handleSubmit,g=d.formState.errors,N=d.reset,w=Object(a.useState)([]),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)(!1),E=Object(j.a)(z,2),A=E[0],U=E[1],q=Object(a.useState)(null),I=Object(j.a)(q,2),R=I[0],D=I[1],F=function(){k([]),D(null),U(!1),N(),e.cerrarModal()};return Object(C.jsxs)(m.a,{isOpen:e.abierto,style:{top:"10%",transfrom:"translate(-50%, -50%)",width:"400px"},children:[Object(C.jsx)(h.a,{toggle:F,children:"Agregar oferta"}),Object(C.jsxs)("form",{children:[Object(C.jsx)(p.a,{children:Object(C.jsxs)(Et.a,{className:"col-md-8",children:[Object(C.jsx)("label",{children:"Marca:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("marca",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(t=g.marca)||void 0===t?void 0:t.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(c=g.marca)||void 0===c?void 0:c.type)&&"Solo se permiten caracteres"}),Object(C.jsx)("label",{children:"Modelo:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("modelo",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(n=g.modelo)||void 0===n?void 0:n.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(r=g.modelo)||void 0===r?void 0:r.type)&&"Solo se permiten caracteres"}),Object(C.jsx)("label",{children:"Indutria:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("industria",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(s=g.industria)||void 0===s?void 0:s.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(o=g.industria)||void 0===o?void 0:o.type)&&"Solo se permiten caracteres"}),Object(C.jsx)("label",{children:"Tiempo de Garantia:"}),Object(C.jsx)("input",Object(u.a)({className:"form-control form-control-sm"},O("tiempo_garantia",{maxLength:50,pattern:/^[A-Za-z \xf1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda 0-9]+$/i}))),Object(C.jsx)("span",{style:{color:"red"},children:"maxLength"===(null===(i=g.tiempo_garantia)||void 0===i?void 0:i.type)&&"Supero el numero maximo de caracteres (50)"}),Object(C.jsx)("span",{style:{color:"red"},children:"pattern"===(null===(l=g.tiempo_garantia)||void 0===l?void 0:l.type)&&"Solo se permiten caracteres"})]})}),Object(C.jsxs)(x.a,{children:[S.map((function(e,t){return Object(C.jsx)("li",{children:e},t)})),Object(C.jsxs)("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between"},children:[Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)("input",{name:"archivo",type:"file",id:"files",onChange:function(e){for(var t=[],c=[],a=0;a<e.target.files.length;a++){var n=e.target.files[a].name,r=n.slice(2+(n.lastIndexOf(".")-1>>>0));t.push(n),c.push(r)}var s=!0,o=!1;c.forEach((function(e){o||("pdf"===e||"png"===e||"jpg"===e||"jpeg"===e?s=!1:(s=!0,o=!0))})),U(s),k(t),D(e.target.files)}}),Object(C.jsxs)("label",{for:"files",children:[Object(C.jsx)(zt.a,{className:"mb-1"})," Adjuntar archivo"]})]}),Object(C.jsx)(f.a,{type:"button",onClick:v((function(t){if(!A){var c=new FormData;if(null!=R)for(var a=0;a<R.length;a++){c.append("file",R[a],R[a].name)}t.archivo=c,e.guardarOferta(t),F()}})),color:"primary",size:"sm",children:"Guardar"})]}),A&&Object(C.jsx)("label",{style:{color:"red"},children:"Solo se permite archivos pdf, png, jpg, jpeg"})]})]})]})}),Wc=function(e){var t=Object(a.useState)(0),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(0),o=Object(j.a)(s,2),i=o[0],l=o[1],d=Object(a.useState)(!1),u=Object(j.a)(d,2),b=u[0],m=u[1],h=Object(a.useState)(!0),p=Object(j.a)(h,2),O=p[0],x=p[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),g=v[0],N=v[1],w=Object(a.useState)({}),y=Object(j.a)(w,2),S=y[0],k=y[1],z=Object(a.useState)(!0),E=Object(j.a)(z,2),A=E[0],U=E[1],q=Object(a.useState)(!0),I=Object(j.a)(q,2),R=I[0],D=I[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Qc,{abierto:b,guardarOferta:function(e){k(e)},cerrarModal:function(){m(!1)}}),Object(C.jsxs)("tr",{className:g,children:[Object(C.jsx)("td",{children:e.index+1}),Object(C.jsx)("td",{style:{textAlign:"center"},children:e.detalle.amount}),Object(C.jsx)("td",{children:e.detalle.unitMeasure}),Object(C.jsx)("td",{children:e.detalle.description}),Object(C.jsx)("td",{children:Object(C.jsx)("input",{id:"precioUnitario",className:"form-control",value:i,type:"number",onChange:function(t){t.target.value>0?D(!1):D(!0),l(t.target.value),r(t.target.value*e.detalle.amount)}})}),Object(C.jsxs)("td",{children:[" ",Object(C.jsx)("input",{className:"form-control",type:"number",value:n,onChange:function(){},readOnly:!0})," "]}),A&&Object(C.jsx)("td",{style:{textAlign:"center"},children:Object(C.jsx)(Ct.a,{id:"ofertaDetalle",style:{color:"orange",fontSize:"22px"},onClick:function(){m(!0)}})}),!A&&Object(C.jsx)("td",{style:{textAlign:"center"},children:Object(C.jsx)(Ct.a,{id:"ofertaDetalle",style:{color:"orange",fontSize:"22px"},onClick:function(){}})}),O&&Object(C.jsx)("td",{children:Object(C.jsx)("button",{style:{border:"none"},disabled:R,className:"btn btn-primary btn-sm",onClick:function(){var t=!1;if(i<0&&(t=!0),0===i&&(t=!0),""===i&&(t=!0),!t){var c={request_details_id:e.detalle.id,unitPrice:parseFloat(i),totalPrice:n};S&&(c.brand=S.marca,c.model=S.modelo,c.industry=S.industria,c.warrantyTime=S.tiempo_garantia,c.archivo=S.archivo),e.detallesCotizado(c),N("table-success"),x(!O),U(!A),document.getElementById("precioUnitario").disabled=!0}},children:"Guardar"})}),!O&&Object(C.jsx)("td",{children:Object(C.jsx)("button",{style:{border:"none"},className:"btn btn-danger btn-sm",onClick:function(){D(!1),l(0),r(0),e.elimiarCotizado(e.detalle.id),N(""),x(!O),U(!A),document.getElementById("precioUnitario").disabled=!1},children:"Cancelar"})})]})]})};var Hc=function(e){var t,c,n,r=Object(R.h)().id,s=Object(b.a)(),o=s.register,i=s.formState.errors,m=s.handleSubmit,h=Object(R.g)(),p=Object(a.useState)([]),O=Object(j.a)(p,2),x=O[0],f=O[1],v=Object(a.useState)([]),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)(""),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)(""),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)([]),D=Object(j.a)(I,2),F=D[0],M=D[1],_=Object(a.useState)(""),L=Object(j.a)(_,2),B=L[0],G=L[1],P=Object(a.useState)({}),T=Object(j.a)(P,2),V=T[0],$=T[1],J=Object(a.useState)(!1),Z=Object(j.a)(J,2),Y=(Z[0],Z[1],Object(a.useState)([])),Q=Object(j.a)(Y,2),W=(Q[0],Q[1]),H=Object(a.useState)(!1),K=Object(j.a)(H,2),X=K[0],ee=K[1],te=Object(a.useState)(null),ce=Object(j.a)(te,2),ae=ce[0],ne=ce[1],re=Object(a.useState)(""),se=Object(j.a)(re,2),oe=se[0],ie=se[1],le=function(e){G("");var t=!1;F.forEach((function(c){c.request_details_id===e.request_details_id&&(t=!0)})),t||e.totalPrice>0&&M([].concat(Object(je.a)(F),[e]))},de=function(e){var t,c=0;F.forEach((function(a){a.request_details_id===e&&(t=c),c++})),F.splice(t,1),M(F)},ue=function(){h.push({pathname:"/cotizaciones/".concat(r),data:V})},be=function(){var e=Object(d.a)(l.a.mark((function e(t,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(t,c);case 2:return a=e.sent,console.log(t.archivo),e.next=6,Nt(t.archivo,a.response);case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.request_quotitations_id=r,t.answerDate=(new Date).toISOString().substr(0,10),e.prev=2,X){e.next=25;break}if(!(F.length>0)){e.next=24;break}if(null===ae){e.next=21;break}return ie(""),document.getElementById("btnEnviar").disabled=!0,e.next=10,xt(t);case 10:if(c=e.sent,F.forEach((function(e){be(e,c.response.id)})),a=new FormData,null!=ae)for(console.log("todos los archivos",ae.length),n=0;n<ae.length;n++)"file",a.append("file",ae[n],ae[n].name);return e.next=16,yt(a,c.response.id);case 16:e.sent,me()({text:c.response.message,button:"Aceptar"}),ue(),e.next=22;break;case 21:ie("Abjunte el archivo de cotizaci\xf3n por favor");case 22:e.next=25;break;case 24:G("No cotizo ningun detalle \xf3 no guardo, revise por favor");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t=Date.now(),c=new Date(t),a=e.location.data;z(c.toLocaleDateString()),q(function(){var e=new Date,t=e.getDate();e.getDate()<10&&(t="0"+t);var c=e.getMonth()+1;return e.getMonth()<10&&(c="0"+c),e.getFullYear()+"-"+c+"-"+t}()),function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(a),e.next=4,dt(r);case 4:return t=e.sent,w(t),e.next=8,wc();case 8:c=e.sent,f(c.business),console.log(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"container",align:"left",children:Object(C.jsx)("div",{className:"col",children:Object(C.jsx)("div",{className:"form-register",children:Object(C.jsxs)("form",{onSubmit:m(he),children:[Object(C.jsxs)("div",{className:"form-row ",children:[Object(C.jsx)("h3",{className:"col-md-9",children:"Datos del proveedor"}),Object(C.jsx)("di",{className:"col-md-3 ",align:"end",children:Object(C.jsx)("button",{type:"button",className:"close",onClick:ue,children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(C.jsx)("hr",{style:{margin:"0px"}}),Object(C.jsxs)("div",{className:"form-row ",children:[Object(C.jsxs)("div",{className:"col-md-4",children:[Object(C.jsxs)("select",Object(u.a)(Object(u.a)({},o("idEmpresa",{required:!0})),{},{className:"form-select form-control","aria-label":"Default select example",children:[Object(C.jsx)("option",{value:"",children:"Seleccione la empresa"}),x.map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.nameEmpresa},e.id)}))]})),"required"===(null===(t=i.idEmpresa)||void 0===t?void 0:t.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]}),Object(C.jsx)("div",{className:"col-md-4"}),Object(C.jsx)("div",{className:"col-md-4",align:"end",children:Object(C.jsx)("button",{onClick:function(){h.push("/empresas")},className:"btn btn-secondary btn-sm",children:"Registrar Nueva Empresa"})})]}),Object(C.jsx)("h3",{children:"Datos de Cotizaci\xf3n"}),Object(C.jsx)("hr",{style:{margin:"0px"}}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Validez de la oferta:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({},o("offerValidity",{required:!0})),{},{type:"date",min:U,className:"form-control form-control-sm"})),"required"===(null===(c=i.offerValidity)||void 0===c?void 0:c.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]}),Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Fecha de Respuesta:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",{value:k,onChange:function(){},type:"text",className:"form-control form-control-sm"})]}),Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Formas de Pago:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsxs)("select",Object(u.a)(Object(u.a)({},o("paymentMethod")),{},{className:"form-control form-control-sm","aria-label":"Default select example",children:[Object(C.jsx)("option",{value:"efectivo",children:"Efectivo"}),Object(C.jsx)("option",{value:"credito",children:"Credito"})]}))]}),Object(C.jsxs)("div",{className:"form-group col-md-3",children:[Object(C.jsxs)("label",{children:["Tiempo de Entrega:",Object(C.jsx)("span",{style:{color:"red",fontSize:"20px"},children:"*"})]}),Object(C.jsx)("input",Object(u.a)(Object(u.a)({},o("deliveryTime",{required:!0})),{},{type:"date",min:U,className:"form-control form-control-sm"})),i.deliveryTime&&Object(C.jsx)("span",{style:{color:"red"},children:"Este campo es requerido"})]})]}),Object(C.jsxs)("table",{className:"table table-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{width:"3%",scope:"col",children:"N\xb0"}),Object(C.jsx)("th",{width:"10%",scope:"col",children:"Cantidad"}),Object(C.jsx)("th",{width:"10%",scope:"col",children:"Unidad"}),Object(C.jsx)("th",{width:"40%",scope:"col",children:"Destalle"}),Object(C.jsx)("th",{width:"12%",scope:"col",children:"Precio Unit."}),Object(C.jsx)("th",{width:"13%",scope:"col",children:"Precio total"}),Object(C.jsx)("th",{width:"6%",scope:"col",children:"Oferta"}),Object(C.jsx)("th",{width:"6%",scope:"col",children:"Cotizar"})]})}),Object(C.jsx)("tbody",{children:N.map((function(e,t){return Object(C.jsx)(Wc,{detallesCotizado:le,elimiarCotizado:de,detalle:e,index:t},e.id)}))})]}),Object(C.jsx)("div",{style:{textAlign:"right",width:"100%"},children:Object(C.jsx)("span",{style:{color:"red"},children:B})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("label",{children:"Observaciones:"}),Object(C.jsx)("textarea",Object(u.a)(Object(u.a)({},o("observation",{maxLength:200})),{},{type:"text",className:"form-control"})),"maxLength"===(null===(n=i.observacion)||void 0===n?void 0:n.type)&&Object(C.jsx)("span",{style:{color:"red"},children:"Supero el limite de 200 caracteres"})]})}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",id:"toolbar",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("input",{className:"btn btn-secondary",name:"archivo",type:"file",onChange:function(e){for(var t=[],c=[],a=0;a<e.target.files.length;a++){var n=e.target.files[a].name,r=n.slice(2+(n.lastIndexOf(".")-1>>>0));t.push(n),c.push(r)}var s=!0,o=!1;c.forEach((function(e){o||("pdf"===e||"PDF"===e||"JPG"===e||"docx"===e||"jpg"===e?s=!1:(s=!0,o=!0))})),c.length>0&&ee(s),ie(""),W(t),ne(e.target.files)}})}),Object(C.jsx)("label",{style:{color:"red"},children:oe}),X&&Object(C.jsx)("label",{style:{color:"red"},children:"Los formatos de archivos permitidos son jpg, pdf y docx"})]}),Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{className:"btn btn-secondary",onClick:ue,id:"btnV",children:"Cancelar"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-success ml-4",id:"btnEnviar",children:"Enviar"})]})]})]})})})})})};var Kc=function(){var e=Object(R.h)().aux,t=Object(R.h)().fl,c=Object(a.useState)(""),n=Object(j.a)(c,2),r=n[0],s=n[1];Object(a.useEffect)((function(){var e=o(t);s(e)}),[]);var o=function(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))};return Object(C.jsx)("div",{style:{width:"100%",height:"500px",textAlign:"center",backgroundColor:"grey"},children:Object(C.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(C.jsx)(Lc.a,{fileType:r,filePath:(console.log(e),1==e?"http://127.0.0.1:8000/api/quotation/showFiles/detail/"+t:"http://127.0.0.1:8000/api/ua/quotation/showFiles/detail/"+t),onError:function(e){console.log(e,"error in file-viewer")},style:{margin:"10px"}})})})};var Xc=function(e){var t=Object(R.h)().id,c=Object(a.useState)([]),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)([]),i=Object(j.a)(o,2),u=i[0],b=i[1],m=Object(a.useState)(!1),h=Object(j.a)(m,2),p=h[0],O=h[1],x=Object(a.useState)(null),f=Object(j.a)(x,2),v=f[0],g=f[1],N=Object(a.useState)([]),w=Object(j.a)(N,2),y=w[0],S=w[1],k=Object(a.useState)({}),z=Object(j.a)(k,2),E=z[0],A=z[1],U=Object(a.useState)(!1),q=Object(j.a)(U,2),I=q[0],D=q[1],F=Object(R.g)(),M=function(e){var t=y;e.forEach((function(e){var c=e.cotizaciones[0].total;e.cotizaciones.forEach((function(e){e.total<c&&null!=e.total&&(c=e.total)})),t.push(c)})),S(t)};function _(){return(_=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(t);case 3:c=e.sent,g(c||null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var c=e.location.data;function a(){return(a=Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(c),e.next=4,ce(t);case 4:a=e.sent,M(a.comparativeChart),s(a.comparativeChart),b(a.businesses),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsx)("div",{className:"col-md-10",children:Object(C.jsx)("h1",{children:"Cuadro Comparativo de Cotizaciones"})}),Object(C.jsx)("div",{className:"col-md-2",align:"right",children:Object(C.jsx)("button",{type:"button",className:"close",onClick:function(){return F.push({pathname:"/cotizaciones/".concat(t),data:E})},children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"col",children:Object(C.jsx)("div",{className:"form-register",children:Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{className:"table-active",children:[Object(C.jsx)("th",{width:"5%",scope:"col",children:"#"}),Object(C.jsx)("th",{width:"40%",scope:"col",children:"Producto"}),Object(C.jsx)("th",{width:"10%",scope:"col",children:"Cantidad"}),u.map((function(e,t){return Object(C.jsx)("th",{scope:"col",children:e})}))]})}),Object(C.jsx)("tbody",{children:r.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.amount}),e.cotizaciones.map((function(e,c){return e.total==y[t]?Object(C.jsx)("td",{children:Object(C.jsx)("strong",{children:e.total})},c):Object(C.jsx)("td",{children:e.total},c)}))]},e.id)}))}),Object(C.jsx)("tfoot",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row"}),Object(C.jsx)("th",{children:"Total"}),Object(C.jsx)("th",{}),u.map((function(e,t){return function(e){var t=0;return r.forEach((function(c){null!=c.cotizaciones[e].total&&(t+=c.cotizaciones[e].total)})),Object(C.jsx)("th",{children:t})}(t)}))]})})]})})})}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsxs)("div",{className:"form-group col",id:"toolbar",children:[Object(C.jsx)("button",{className:"btn btn-secondary",onClick:function(){I&&(E.statusResponse="Finalizado"),F.push({pathname:"/cotizaciones/".concat(t),data:E})},id:"btnV",children:"Volver Atr\xe1s"}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary ml-4",id:"btnEnviar",onClick:function(){!function(e){_.apply(this,arguments)}(t),O(!0)},children:"Realizar Informe"})]})}),Object(C.jsx)(Ue,{id:t,abierto:p,cerrarModal:function(){g(null),O(!1)},report:v,setinformeEnviado:D})]})})};var ea=function(){var e=Object(R.h)().id,t=Object(a.useState)(),c=Object(j.a)(t,2),n=(c[0],c[1]),r=Object(a.useState)(),s=Object(j.a)(r,2),o=s[0],i=s[1],u=Object(a.useState)(),b=Object(j.a)(u,2),m=b[0],h=b[1],p=Object(a.useState)(),O=Object(j.a)(p,2),x=O[0],f=O[1],v=Object(a.useState)(""),g=Object(j.a)(v,2),N=g[0],w=g[1],y=Object(a.useState)(),S=Object(j.a)(y,2),k=S[0],z=S[1],E=Object(a.useState)([]),A=Object(j.a)(E,2),U=A[0],q=A[1],I=Object(a.useState)(!1),D=Object(j.a)(I,2),F=D[0],M=D[1],_=Object(a.useState)(!1),L=Object(j.a)(_,2),B=(L[0],L[1]),G=Object(a.useState)(!0),P=Object(j.a)(G,2),T=P[0],V=P[1],$=Object(a.useState)(0),Z=Object(j.a)($,2),Q=Z[0],W=Z[1],H=Object(a.useState)(!1),K=Object(j.a)(H,2),X=K[0],ee=K[1],te=Object(R.g)(),ce=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={status:"Rechazado"},t.next=3,Y(e,c);case 3:t.sent,window.history.back();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=U.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.amount}),Object(C.jsx)("td",{children:e.unitMeasure}),Object(C.jsx)("td",{children:e.description})]},t)}));return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return c=t.sent,n(a=c),i(a.nameUnidadGasto),h(a.aplicantName),f(a.requestDate),q(a.details),z(a.amount),W(a.limite.monto),w(a.message),t.next=14,hc(e);case 14:t.sent&&V(!1),"Pendiente"==a.status?B(!0):B(!1);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",align:"left",children:[Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-6",children:Object(C.jsxs)("h1",{children:["Solicitud # ",e]})}),Object(C.jsx)("div",{className:"col-md-6",align:"right",children:Object(C.jsx)("button",{type:"button",className:"close",onClick:function(){window.history.back()},children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"col",id:"registro",children:Object(C.jsx)("div",{className:"form-register",children:Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-row",id:"formData",children:[Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Unidad de gasto:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:o})})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Nombre del Solicitante:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:m})})]}),Object(C.jsxs)("div",{className:"form-group col-md-4",children:[Object(C.jsx)("label",{children:"Fecha de Solicitud:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:x})})]})]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"form-group col-md",children:Object(C.jsx)("label",{children:"Detalle de solicitud"})})}),Object(C.jsx)("div",{className:"form-row",id:"lista",children:Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"#"}),Object(C.jsx)("th",{scope:"col",children:"Cantidad"}),Object(C.jsx)("th",{scope:"col",children:"Unidad"}),Object(C.jsx)("th",{scope:"col",children:"Descripcion"})]})}),Object(C.jsx)("tbody",{children:ae})]})}),Object(C.jsxs)("div",{className:"form-row",children:[Object(C.jsxs)("div",{className:"form-group col-md-6",children:[Object(C.jsx)("label",{children:"Monto Estimado:"}),Object(C.jsx)("div",{className:"form-row",id:"input",children:Object(C.jsx)("label",{class:"col-form-label",children:k})})]}),Object(C.jsx)("div",{className:"form-group col-md-6",style:{marginTop:"33px"},children:Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:T,onClick:function(){return M(!0)},children:"Ver Archivos"})})]}),Object(C.jsx)("div",{style:{color:"red"},children:N}),N&&Object(C.jsxs)("div",{style:{color:"red"},children:["Monto tope: ",Q]}),Object(C.jsx)("div",{className:"form-row",children:Object(C.jsx)("div",{className:"form-group col",id:"toolbar",children:Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",id:"btnV",onClick:function(){return te.goBack()},children:" Cerrar "})})})]})})}),Object(C.jsx)(gc,{isShowModalFile:F,closeModal:function(){M(!1)},id:e}),Object(C.jsx)(ke,{id:e,abierto:X,cerrarModal:function(){ee(!1)},report:null,rejectRequest:ce})]})})},ta=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)(R.d,{children:[Object(C.jsx)(R.a,{exact:!0,from:"/",to:"/home"}),Object(C.jsx)(R.b,{exact:!0,path:"/home",component:Ie}),Object(C.jsx)(R.b,{exact:!0,path:"/SolicitudesDeAdquisicion/:idUS/:nameUS",component:uc}),Object(C.jsx)(R.b,{exact:!0,path:"/AgregarDetalleSolictud/:idUS/:nameUS",component:mc}),Object(C.jsx)(R.b,{exact:!0,path:"/verSolicitud/:id",component:ea}),Object(C.jsx)(R.b,{exact:!0,path:"/SolicitudesDeAdquisicionAdmin/:idUA",component:qe}),Object(C.jsx)(R.b,{exact:!0,path:"/EnviarCotizacion",component:he}),Object(C.jsx)(R.b,{exact:!0,path:"/DetalleSolicitud/:id",component:Nc}),Object(C.jsx)(R.b,{exact:!0,path:"/montoLimite/:idUA",component:dc}),Object(C.jsx)(R.b,{exact:!0,path:"/personal/:idUA/:idUS",component:Mc}),Object(C.jsx)(R.b,{exact:!0,path:"/seleccionPersonal/:idUA/:idUS",component:Pc}),Object(C.jsx)(R.b,{exact:!0,path:"/perfil",component:Yc}),Object(C.jsx)(R.b,{exact:!0,path:"/menu",component:F}),Object(C.jsx)(R.b,{exact:!0,path:"/respuesta/cotizacion/ua/:id",component:Hc}),Object(C.jsx)(R.b,{exact:!0,path:"/cuadro/:id",component:Xc}),Object(C.jsx)(R.b,{exact:!0,path:"/UnidadesAdministrativas",component:Zt}),Object(C.jsx)(R.b,{exact:!0,path:"/unidadesDeGasto",component:nc}),Object(C.jsx)(R.b,{exact:!0,path:"/user",component:ot}),Object(C.jsx)(R.b,{exact:!0,path:"/empresas",component:zc}),Object(C.jsx)(R.b,{exact:!0,path:"/roles",component:Fc}),Object(C.jsx)(R.b,{exact:!0,path:"/showFile/:id/:fl",component:Bc}),Object(C.jsx)(R.b,{exact:!0,path:"/respuestaCotizacion",component:qt}),Object(C.jsx)(R.b,{exact:!0,path:"/ingresoCodigo",component:kt}),Object(C.jsx)(R.b,{exact:!0,path:"/cotizaciones/:id",component:Vc}),Object(C.jsx)(R.b,{exact:!0,path:"/verCotizacion/:idRe/:idCo",component:Jc}),Object(C.jsx)(R.b,{exact:!0,path:"/informeCotizacionResp/:idRe",component:Zc}),Object(C.jsx)(R.b,{exact:!0,path:"/showFileQuotitationDetail/:aux/:fl",component:Kc})]})})},ca=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ta,{})})};var aa=function(){return Object(C.jsxs)(o.a,{children:[Object(C.jsx)(M,{}),Object(C.jsx)(ca,{})]})},na=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,308)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(aa,{})}),document.getElementById("root")),na()},92:function(e,t,c){}},[[282,1,2]]]);
//# sourceMappingURL=main.ac962411.chunk.js.map